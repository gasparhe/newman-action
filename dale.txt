{
  collection: 'https://api.getpostman.com/collections/514996-938c3507-9c21-47cc-aecc-daebe5c3cf8a?apikey=PMAK-64107bc519502428f25c9294-4bb8eb32a6fe946fec112992fc948a04f2',
  environment: 'https://api.getpostman.com/environments/853366-f6318ba2-4aee-4f47-baff-8c5151d29777?apikey=PMAK-64107bc519502428f25c9294-4bb8eb32a6fe946fec112992fc948a04f2'
}
Newman 3run failed!  null {"collection":{"_":{"postman_id":"938c3507-9c21-47cc-aecc-daebe5c3cf8a"},"item":[{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},{"id":"ed0f6437-6582-449f-833d-56ca12d739ce","name":"a360","item":[],"event":[]},{"id":"380a7ae0-5cb1-4891-aaaa-763b8f8c8b39","name":"HBCC","item":[],"event":[]},{"id":"1e3320c6-9979-485d-bde4-7f301c3609b2","name":"MOH","item":[],"event":[]},{"id":"ca4a89b5-880d-4f34-a9fd-79a33b95d770","name":"default","item":[{"id":"bf135c0a-275f-476e-87c8-5c227e6d4f62","name":"Patient","item":[{"id":"9994b0ab-c1e4-4ac8-ba1e-c559a39de462","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"a360-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"0034658626816\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"0034000999000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658626816\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658626816\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658626816\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","","    pm.collectionVariables.set('patientID', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const {telecom} = pm.response.json().fhirResult;","    const expectedTel0 = {","        'system': 'other',","        'value': 'whatsapp|+34658626816'","    };","    const expectedTel1 = {","        'system': 'other',","        'value': 'SMS|+34658626816'","    };","    const expectedTel2 = {","        'system': 'phone',","        'value': '+34658626816'","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('project') // TEST-KEN","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"255b8bde-7240-48b9-846c-666c80e66919"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"21da96a3-6792-41c3-9a90-ac494579ee9f","name":"Update Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"id\": \"{{patientID}}\",\n        \"meta\": {\n            \"profile\": [\n                \"DUMMY-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"+34658000000\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"+34658000000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658000000\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658000000\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658000000\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"male\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"9f9e22e9-ac05-4ea7-bf51-1e712bb7f76b","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        'system': 'other',","        'value': 'whatsapp|+34658000000'","    };","    const expectedTel1 = {","        'system': 'other',","        'value': 'SMS|+34658000000'","    };","    const expectedTel2 = {","        'system': 'phone',","        'value': '+34658000000'","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        'value': '+34658000000'","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"+34658000000:mySecretKey\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"296c4364-38bf-46e6-b785-c8714d56ecd1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"95e07aeb-ad4b-4812-a6f5-7fa969bbd503","name":"Patch Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"reqMethod\": \"PATCH\",\n    \"fhir\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/gender\",\n            \"value\": \"female\"\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3c29cb31-70ee-4edc-8f04-96a746c91151","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","","    pm.collectionVariables.set('patientID', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const {gender} = pm.response.json().fhirResult;","    pm.expect(gender).to.eql('female');","});","","","",""],"_lastExecutionId":"7e6ae266-abb3-44e9-bef0-7f480ad52969"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a95518bc-e0e3-4182-abb1-78a4e684cb03","name":"Get Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"f73e26c9-03bc-4a45-9d9f-63753a681fb2"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","","pm.test(\"response body contains META.PROFILE\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"meta\");","  pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test(\"response body contains META.PROFILE\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"meta\");","  pm.expect(fhirResult).to.include.keys('id', 'name', 'telecom', 'active');","});","","pm.test(\"summaryDetails contains the right profile\", function () {","  var meta = pm.response.json().fhirResult.meta.profile;","  const project = pm.collectionVariables.get(\"project\") // TEST-KEN","  pm.expect(meta).to.include(project);","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"id\");","});",""],"_lastExecutionId":"4df99d18-a393-4528-acb5-b9decf4c964a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},{"id":"1d5f9950-4467-4998-86aa-cda9c8a6ad8c","name":"QuiestionnaireResponse","item":[{"id":"bb44d439-e8fb-4338-9593-403c5c6d8b97","name":"createQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"POST"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e9b36c43-eb58-4ffc-8bbf-c6b290572332","name":"patchQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"PUT"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2f59ba33-b245-4e8c-834f-bedef49a40e9","name":"delete QuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"DELETE"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},{"id":"042e3fed-a7cb-4ea1-856c-2438b9b3447f","name":"forgetme","item":[{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"d2853f2a-eac0-4b43-8889-b9e18af1d6dc","name":"Get Patient redacted","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"c19c51fc-e03d-470c-ba4a-13accd85b15a"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","pm.test(\"response body contains META.PROFILE\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"meta\");","    pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"id\");","});","","pm.test('response body contains expected basic info', function () {","    const { active, birthDate, gender, name, link } = pm.response.json().fhirResult;","    const { text, use } = name[0];","    const { type, other } = link[0];","    const { reference } = other;","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(active).to.eql(false);","    pm.expect(birthDate).to.eql('1930');","    pm.expect(gender).to.eql('female');","    pm.expect(reference).to.eql('Patient/202');","    pm.expect(type).to.eql('refer');","});","","pm.test('response body contains expected address', function () {","    const { address } = pm.response.json().fhirResult;","    const { use, type, text, line, city, district, state, postalCode, country, period } = address[0];","    const { use: use1, type: type1, text: text1, line: line1, city: city1, district: district1, state: state1, postalCode: postalCode1, country: country1, period: period1 } = address[1];","    pm.expect(use).to.eql('home');","    pm.expect(use1).to.eql('home');","    pm.expect(type).to.eql('physical');","    pm.expect(type1).to.eql('physical');","    pm.expect(line).to.include('REDACTED');","    pm.expect(line1).to.include('REDACTED');","    pm.expect(text).to.eql('REDACTED');","    pm.expect(text1).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(city1).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(district1).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(postalCode1).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(country1).to.eql('Spain');","    pm.expect(state).to.eql('Alicante');","    pm.expect(state1).to.eql('Alicante');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","    pm.expect(period1.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period1.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected contact', function () {","    const { relationship, telecom, name, address, gender } = pm.response.json().fhirResult.contact[0];","    const { text: rtext, coding } = relationship[0];","    const { code } = coding[0];","    const { text, use } = name;","    const { system, value } = telecom[0];","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(gender).to.eql('female');","    pm.expect(rtext).to.eql('contact point1');","    pm.expect(code).to.eql('CP');","    pm.expect(system).to.eql('other');","    pm.expect(value).to.eql('N/A');","","","    const { use: aUse, type, text: aText, line, city, district, state, postalCode, country, period } = address;","    pm.expect(aUse).to.eql('home');","    pm.expect(type).to.eql('postal');","    pm.expect(line).to.include('REDACTED');","    pm.expect(aText).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(state).to.eql('Barcelona');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel1 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel2 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"value\": \"REDACTED\"","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"REDACTED\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('response body contains expected photo', function () {","    const { photo } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"contentType\": \"jpg\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    const expectedId1 = {","        \"contentType\": \"png\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    pm.expect(photo).to.be.an('array');","    pm.expect(photo).to.deep.include(expectedId0);","    pm.expect(photo).to.deep.include(expectedId1);","});",""],"_lastExecutionId":"d6a0c90d-d74d-4fc9-b496-436b110fbbfb"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},{"id":"a71db66e-2d0c-4912-8944-2603773abbbf","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"73dee882-3694-41a9-b0ab-70667ff5d599"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]}],"event":[{"listen":"prerequest","script":{"id":"492e0792-cf38-458c-b57d-079c5f8ed68c","type":"text/javascript","exec":[""],"_lastExecutionId":"0b69a2aa-155d-4b9a-9853-6d4726cd78b4"}},{"listen":"test","script":{"id":"24933659-7cf4-4ed6-8f2e-b52c20f2c6ad","type":"text/javascript","exec":[""],"_lastExecutionId":"a895bdb9-e628-4a49-b132-fc3eade15b0b"}}],"variable":[{"id":"df8564e0-6edd-48e4-bd6f-5ab23ae09ded","type":"any","value":"","key":"project"},{"id":"385ff95b-3fb9-4c39-88ff-57d4dc9eb99d","type":"any","value":"","key":"patientID"},{"id":"3f6b992f-6b92-42a1-b66d-2a8529d29735","type":"any","value":"","key":"projectSWZ"},{"id":"a921e3e6-ec9d-4219-8e42-b7c720018037","type":"any","value":"","key":"practicionerIpcId"},{"id":"38a50d01-2176-443f-9c80-23e506bca8aa","type":"any","value":"","key":"practicionerProvId"},{"id":"6ded7d4a-4c0e-46af-bd6a-b8f03d49b4bc","type":"any","value":"","key":"patientSwzId"},{"id":"d6602c10-8e75-4352-9b7f-4209306ed94f","type":"any","value":"","key":"serviceRequestSwzId"},{"id":"7cbc99df-8664-4f6c-b3d2-6a06f69e5e52","type":"any","value":"","key":"questionnaireResponseSwzId"},{"id":"2fb2a1e7-a245-4276-8a0c-eb05d75f9cdc","type":"string","value":"","key":"profileAIOI"},{"id":"53e7ca0b-090a-4861-9fdf-db049e4ba77a","type":"any","value":"","key":"patientAioiId"},{"id":"5fbc4110-2121-4f2e-88d0-b02900a126be","type":"any","value":"","key":"consentAioiId"}],"info":{"_postman_id":"938c3507-9c21-47cc-aecc-daebe5c3cf8a","name":"🧩🧪 IntegrationTests","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"}},"environment":{"id":"f6318ba2-4aee-4f47-baff-8c5151d29777","name":"DEV OPEN HIM","values":[{"type":"any","value":"http://openhim-dev.psi-mis.org:5001","key":"server"},{"type":"any","value":"ke-newBE-client","key":"user"},{"type":"any","value":"Rxp6T#Mnor&8dP","key":"pass"}]},"globals":{"id":"88f7e323-bc5e-46af-b72e-fdc5d8e6a4fc","values":[]},"run":{"stats":{"iterations":{"total":1,"pending":0,"failed":0},"items":{"total":26,"pending":0,"failed":0},"scripts":{"total":78,"pending":0,"failed":0},"prerequests":{"total":26,"pending":0,"failed":0},"requests":{"total":26,"pending":0,"failed":5},"tests":{"total":26,"pending":0,"failed":0},"assertions":{"total":97,"pending":0,"failed":34},"testScripts":{"total":49,"pending":0,"failed":0},"prerequestScripts":{"total":29,"pending":0,"failed":0}},"timings":{"responseAverage":306.79166666666663,"responseMin":262,"responseMax":466,"responseSd":53.10062933071001,"dnsAverage":0,"dnsMin":0,"dnsMax":0,"dnsSd":0,"firstByteAverage":0,"firstByteMin":0,"firstByteMax":0,"firstByteSd":0,"started":1691995615305,"completed":1691995622630},"executions":[{"cursor":{"position":0,"iteration":0,"length":26,"cycles":1,"empty":false,"eof":false,"bof":true,"cr":false,"ref":"4bf6e3ea-cfa5-4e06-8c05-23258a732469","httpRequestId":"613a6a96-c576-4910-bc71-fe6c4550d1ce"},"item":{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir",""],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"e7df594b-aa72-4d15-84bd-39bddb320269","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"2530","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"ke-newBE-client","key":"username"},{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"}]}},"response":{"id":"8b8f8b66-0d24-44fb-b88b-35dc858a6b2b","status":"Bad Request","code":400,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"26c-ctMz7+7tM0rcQNumZO2lomoMN5U\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:55 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cddfe21d0104afc52700"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,69,82,82,79,82,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,70,97,105,108,101,100,32,116,111,32,112,97,114,115,101,32,114,101,113,117,101,115,116,32,98,111,100,121,32,97,115,32,74,83,79,78,32,114,101,115,111,117,114,99,101,46,32,69,114,114,111,114,32,119,97,115,58,32,73,110,118,97,108,105,100,32,74,83,79,78,32,99,111,110,116,101,110,116,32,100,101,116,101,99,116,101,100,44,32,109,105,115,115,105,110,103,32,114,101,113,117,105,114,101,100,32,101,108,101,109,101,110,116,58,32,39,114,101,115,111,117,114,99,101,84,121,112,101,39,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,101,114,114,111,114,34,44,34,99,111,100,101,34,58,34,112,114,111,99,101,115,115,105,110,103,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,70,97,105,108,101,100,32,116,111,32,112,97,114,115,101,32,114,101,113,117,101,115,116,32,98,111,100,121,32,97,115,32,74,83,79,78,32,114,101,115,111,117,114,99,101,46,32,69,114,114,111,114,32,119,97,115,58,32,73,110,118,97,108,105,100,32,74,83,79,78,32,99,111,110,116,101,110,116,32,100,101,116,101,99,116,101,100,44,32,109,105,115,115,105,110,103,32,114,101,113,117,105,114,101,100,32,101,108,101,109,101,110,116,58,32,39,114,101,115,111,117,114,99,101,84,121,112,101,39,34,125,93,125,125]},"cookie":[],"responseTime":466,"responseSize":620},"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","assertions":[{"assertion":"response is ok","skipped":false,"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 400","stack":"AssertionError: expected response to have status code 200 but got 400\n   at Object.eval sandbox-script.js:1:1)"}},{"assertion":"response body is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected response code to be 2XX but found 400","stack":"AssertionError: expected response code to be 2XX but found 400\n   at Object.eval sandbox-script.js:2:1)"}},{"assertion":"response body contains expected properties","skipped":false,"error":{"name":"AssertionError","index":2,"test":"response body contains expected properties","message":"expected { Object (resourceType, text, ...) } to contain keys 'id', 'type', and 'entry'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to contain keys 'id', 'type', and 'entry'\n   at Object.eval sandbox-script.js:3:1)"}}]},{"cursor":{"ref":"0ea8ea66-8807-4cb0-bbf7-0a7adeec53c3","length":26,"cycles":1,"position":1,"iteration":0,"httpRequestId":"715eae95-b959-4f13-a612-ec0fa58233d9"},"item":{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient",""],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"d3cfbd4c-adec-4bb3-aec7-eb6017a03b20","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"a5d434fd-6202-4838-8223-671323f9a719","status":"Method Not Allowed","code":405,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"2b0-P43U5QhANqzALQCHatzvatHyfGM\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:56 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde0e21d0104afc52721"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,69,82,82,79,82,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,101,114,114,111,114,34,44,34,99,111,100,101,34,58,34,112,114,111,99,101,115,115,105,110,103,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,34,125,93,125,125]},"cookie":[],"responseTime":266,"responseSize":688},"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","assertions":[{"assertion":"response is ok","skipped":false,"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:2)"}},{"assertion":"deleted is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:2)"}}]},{"cursor":{"ref":"3e059c0f-6ba5-4a0f-b29c-57d466e42951","length":26,"cycles":1,"position":2,"iteration":0,"httpRequestId":"9231c881-2ca8-42eb-9d77-9f26a087cfb8"},"item":{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Consent",""],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"d29276ed-abed-4e8b-9d2e-fef5a56fd0d9","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"4411a65b-4336-45f9-a032-9e697f998dd4","status":"Method Not Allowed","code":405,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"2b0-P43U5QhANqzALQCHatzvatHyfGM\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:56 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde0e21d0104afc52741"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,69,82,82,79,82,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,101,114,114,111,114,34,44,34,99,111,100,101,34,58,34,112,114,111,99,101,115,115,105,110,103,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,34,125,93,125,125]},"cookie":[],"responseTime":266,"responseSize":688},"id":"c491257e-26be-46ba-9484-98605e3511ed","assertions":[{"assertion":"response is ok","skipped":false,"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:3)"}},{"assertion":"deleted is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:3)"}}]},{"cursor":{"ref":"730b38dc-41fb-4f5a-a8a4-94772604624b","length":26,"cycles":1,"position":3,"iteration":0,"httpRequestId":"2595a49f-8d35-497a-8303-79194522386d"},"item":{"id":"9994b0ab-c1e4-4ac8-ba1e-c559a39de462","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"a360-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"0034658626816\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"0034000999000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658626816\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658626816\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658626816\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","","    pm.collectionVariables.set('patientID', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const {telecom} = pm.response.json().fhirResult;","    const expectedTel0 = {","        'system': 'other',","        'value': 'whatsapp|+34658626816'","    };","    const expectedTel1 = {","        'system': 'other',","        'value': 'SMS|+34658626816'","    };","    const expectedTel2 = {","        'system': 'phone',","        'value': '+34658626816'","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('project') // TEST-KEN","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"255b8bde-7240-48b9-846c-666c80e66919"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"77ceebe2-f672-42c4-99d2-88e0f2799daf","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"5094","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"a360-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"0034658626816\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"0034000999000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658626816\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658626816\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658626816\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"c9b315c5-6498-4e14-9b76-4b341ef59fe6","status":"Created","code":201,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"a0c-nuAKSg8JoLdtyFxk3kIpqv5robM\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:56 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde0e21d0104afc52762"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,80,97,116,105,101,110,116,34,44,34,105,100,34,58,34,49,52,54,51,53,51,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,49,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,54,58,53,54,46,54,56,51,43,48,48,58,48,48,34,44,34,112,114,111,102,105,108,101,34,58,91,34,97,51,54,48,45,69,83,80,34,93,125,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,100,105,118,32,99,108,97,115,115,61,92,34,104,97,112,105,72,101,97,100,101,114,84,101,120,116,92,34,47,62,60,116,97,98,108,101,32,99,108,97,115,115,61,92,34,104,97,112,105,80,114,111,112,101,114,116,121,84,97,98,108,101,92,34,62,60,116,98,111,100,121,62,60,116,114,62,60,116,100,62,73,100,101,110,116,105,102,105,101,114,60,47,116,100,62,60,116,100,62,48,48,51,52,54,53,56,54,50,54,56,49,54,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,65,100,100,114,101,115,115,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,108,105,110,101,49,32,60,47,115,112,97,110,62,60,98,114,47,62,60,115,112,97,110,62,99,105,116,121,49,32,60,47,115,112,97,110,62,60,115,112,97,110,62,65,108,105,99,97,110,116,101,32,60,47,115,112,97,110,62,60,115,112,97,110,62,83,112,97,105,110,32,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,68,97,116,101,32,111,102,32,98,105,114,116,104,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,48,49,32,74,97,110,117,97,114,121,32,49,57,51,48,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,47,116,98,111,100,121,62,60,47,116,97,98,108,101,62,60,47,100,105,118,62,34,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,118,97,108,117,101,34,58,34,48,48,51,52,54,53,56,54,50,54,56,49,54,34,125,44,123,34,117,115,101,34,58,34,116,101,109,112,34,44,34,118,97,108,117,101,34,58,34,48,48,51,52,48,48,48,57,57,57,48,48,48,58,109,121,83,101,99,114,101,116,75,101,121,34,125,93,44,34,97,99,116,105,118,101,34,58,116,114,117,101,44,34,110,97,109,101,34,58,91,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,71,97,115,112,97,114,45,116,101,115,116,34,125,93,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,56,54,50,54,56,49,54,34,125,44,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,83,77,83,124,43,51,52,54,53,56,54,50,54,56,49,54,34,125,44,123,34,115,121,115,116,101,109,34,58,34,112,104,111,110,101,34,44,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,54,50,54,56,49,54,34,125,93,44,34,103,101,110,100,101,114,34,58,34,109,97,108,101,34,44,34,98,105,114,116,104,68,97,116,101,34,58,34,49,57,51,48,45,48,49,45,48,49,34,44,34,97,100,100,114,101,115,115,34,58,91,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,93,44,34,112,104,111,116,111,34,58,91,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,106,112,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,34,125,44,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,112,110,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,50,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,50,34,125,93,44,34,99,111,110,116,97,99,116,34,58,91,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,111,115,116,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,32,99,111,110,116,97,99,116,32,97,114,114,97,121,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,125,44,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,50,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,50,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,50,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,50,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,50,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,50,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,125,93,44,34,99,111,109,109,117,110,105,99,97,116,105,111,110,34,58,91,123,34,108,97,110,103,117,97,103,101,34,58,123,34,116,101,120,116,34,58,34,86,78,34,125,44,34,112,114,101,102,101,114,114,101,100,34,58,116,114,117,101,125,93,44,34,108,105,110,107,34,58,91,123,34,111,116,104,101,114,34,58,123,34,114,101,102,101,114,101,110,99,101,34,58,34,80,97,116,105,101,110,116,47,50,48,50,34,125,44,34,116,121,112,101,34,58,34,114,101,102,101,114,34,125,93,125,125]},"cookie":[],"responseTime":296,"responseSize":2572},"id":"9994b0ab-c1e4-4ac8-ba1e-c559a39de462","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"response body contains expected properties","skipped":false},{"assertion":"response body contains expected values","skipped":false},{"assertion":"summaryDetails contains the right profile","skipped":false,"error":{"name":"AssertionError","index":5,"test":"summaryDetails contains the right profile","message":"expected [ 'a360-ESP' ] to include ''","stack":"AssertionError: expected [ 'a360-ESP' ] to include ''\n   at Object.eval sandbox-script.js:6:4)"}},{"assertion":"summaryDetails contains activityRecordsList","skipped":false}]},{"cursor":{"ref":"ef6dcaed-5a77-4fc4-a737-083216ca9e1b","length":26,"cycles":1,"position":4,"iteration":0,"httpRequestId":"9133fe41-993c-4c71-9913-5e7d58f2b610"},"item":{"id":"21da96a3-6792-41c3-9a90-ac494579ee9f","name":"Update Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"id\": \"{{patientID}}\",\n        \"meta\": {\n            \"profile\": [\n                \"DUMMY-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"+34658000000\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"+34658000000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658000000\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658000000\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658000000\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"male\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"9f9e22e9-ac05-4ea7-bf51-1e712bb7f76b","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        'system': 'other',","        'value': 'whatsapp|+34658000000'","    };","    const expectedTel1 = {","        'system': 'other',","        'value': 'SMS|+34658000000'","    };","    const expectedTel2 = {","        'system': 'phone',","        'value': '+34658000000'","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        'value': '+34658000000'","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"+34658000000:mySecretKey\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"296c4364-38bf-46e6-b785-c8714d56ecd1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient","146353"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"760c4cc9-fdb6-4d65-9135-d89f5d5b6b43","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"5115","system":true}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"id\": \"146353\",\n        \"meta\": {\n            \"profile\": [\n                \"DUMMY-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"+34658000000\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"+34658000000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658000000\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658000000\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658000000\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"male\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"76fcc653-17a3-42be-b056-122315c78ca6","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"a13-Vo7681CTIbnz95stoRVA9NSYkpo\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:57 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde1e21d0104afc52783"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,80,97,116,105,101,110,116,34,44,34,105,100,34,58,34,49,52,54,51,53,51,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,50,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,54,58,53,55,46,48,52,49,43,48,48,58,48,48,34,44,34,112,114,111,102,105,108,101,34,58,91,34,68,85,77,77,89,45,69,83,80,34,44,34,97,51,54,48,45,69,83,80,34,93,125,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,100,105,118,32,99,108,97,115,115,61,92,34,104,97,112,105,72,101,97,100,101,114,84,101,120,116,92,34,47,62,60,116,97,98,108,101,32,99,108,97,115,115,61,92,34,104,97,112,105,80,114,111,112,101,114,116,121,84,97,98,108,101,92,34,62,60,116,98,111,100,121,62,60,116,114,62,60,116,100,62,73,100,101,110,116,105,102,105,101,114,60,47,116,100,62,60,116,100,62,43,51,52,54,53,56,48,48,48,48,48,48,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,65,100,100,114,101,115,115,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,108,105,110,101,49,32,60,47,115,112,97,110,62,60,98,114,47,62,60,115,112,97,110,62,99,105,116,121,49,32,60,47,115,112,97,110,62,60,115,112,97,110,62,65,108,105,99,97,110,116,101,32,60,47,115,112,97,110,62,60,115,112,97,110,62,83,112,97,105,110,32,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,68,97,116,101,32,111,102,32,98,105,114,116,104,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,48,49,32,74,97,110,117,97,114,121,32,49,57,51,48,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,47,116,98,111,100,121,62,60,47,116,97,98,108,101,62,60,47,100,105,118,62,34,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,117,115,101,34,58,34,116,101,109,112,34,44,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,58,109,121,83,101,99,114,101,116,75,101,121,34,125,93,44,34,97,99,116,105,118,101,34,58,116,114,117,101,44,34,110,97,109,101,34,58,91,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,71,97,115,112,97,114,45,116,101,115,116,34,125,93,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,83,77,83,124,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,115,121,115,116,101,109,34,58,34,112,104,111,110,101,34,44,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,34,125,93,44,34,103,101,110,100,101,114,34,58,34,109,97,108,101,34,44,34,98,105,114,116,104,68,97,116,101,34,58,34,49,57,51,48,45,48,49,45,48,49,34,44,34,97,100,100,114,101,115,115,34,58,91,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,93,44,34,112,104,111,116,111,34,58,91,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,106,112,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,34,125,44,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,112,110,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,50,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,50,34,125,93,44,34,99,111,110,116,97,99,116,34,58,91,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,111,115,116,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,32,99,111,110,116,97,99,116,32,97,114,114,97,121,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,125,44,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,50,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,50,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,50,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,50,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,50,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,50,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,109,97,108,101,34,125,93,44,34,99,111,109,109,117,110,105,99,97,116,105,111,110,34,58,91,123,34,108,97,110,103,117,97,103,101,34,58,123,34,116,101,120,116,34,58,34,86,78,34,125,44,34,112,114,101,102,101,114,114,101,100,34,58,116,114,117,101,125,93,44,34,108,105,110,107,34,58,91,123,34,111,116,104,101,114,34,58,123,34,114,101,102,101,114,101,110,99,101,34,58,34,80,97,116,105,101,110,116,47,50,48,50,34,125,44,34,116,121,112,101,34,58,34,114,101,102,101,114,34,125,93,125,125]},"cookie":[],"responseTime":307,"responseSize":2579},"id":"21da96a3-6792-41c3-9a90-ac494579ee9f","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"response body contains expected properties","skipped":false},{"assertion":"response body contains expected telecom","skipped":false},{"assertion":"response body contains expected identifiers","skipped":false},{"assertion":"summaryDetails contains the right profile","skipped":false},{"assertion":"summaryDetails contains activityRecordsList","skipped":false}]},{"cursor":{"ref":"043bf5a8-3b54-48d5-bc32-3bba5a369336","length":26,"cycles":1,"position":5,"iteration":0,"httpRequestId":"51c243c0-4077-439e-915a-71dbb1aedced"},"item":{"id":"95e07aeb-ad4b-4812-a6f5-7fa969bbd503","name":"Patch Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"reqMethod\": \"PATCH\",\n    \"fhir\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/gender\",\n            \"value\": \"female\"\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3c29cb31-70ee-4edc-8f04-96a746c91151","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","","    pm.collectionVariables.set('patientID', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const {gender} = pm.response.json().fhirResult;","    pm.expect(gender).to.eql('female');","});","","","",""],"_lastExecutionId":"7e6ae266-abb3-44e9-bef0-7f480ad52969"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient","146353"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"fefd54a8-9b1f-46cf-9a57-5a3786320831","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"159","system":true}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"reqMethod\": \"PATCH\",\n    \"fhir\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/gender\",\n            \"value\": \"female\"\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"d9f6bb7f-27a4-4c8a-b961-00ff34537461","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"a32-5Ero2LGCLfr3y4BcYT9r4SUY7mk\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:57 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde1e21d0104afc527ac"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,80,97,116,105,101,110,116,34,44,34,105,100,34,58,34,49,52,54,51,53,51,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,51,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,54,58,53,55,46,51,55,51,43,48,48,58,48,48,34,44,34,115,111,117,114,99,101,34,58,34,35,56,90,100,116,121,108,87,68,89,83,113,113,76,48,68,80,34,44,34,112,114,111,102,105,108,101,34,58,91,34,68,85,77,77,89,45,69,83,80,34,44,34,97,51,54,48,45,69,83,80,34,93,125,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,100,105,118,32,99,108,97,115,115,61,92,34,104,97,112,105,72,101,97,100,101,114,84,101,120,116,92,34,47,62,60,116,97,98,108,101,32,99,108,97,115,115,61,92,34,104,97,112,105,80,114,111,112,101,114,116,121,84,97,98,108,101,92,34,62,60,116,98,111,100,121,62,60,116,114,62,60,116,100,62,73,100,101,110,116,105,102,105,101,114,60,47,116,100,62,60,116,100,62,43,51,52,54,53,56,48,48,48,48,48,48,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,65,100,100,114,101,115,115,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,108,105,110,101,49,32,60,47,115,112,97,110,62,60,98,114,47,62,60,115,112,97,110,62,99,105,116,121,49,32,60,47,115,112,97,110,62,60,115,112,97,110,62,65,108,105,99,97,110,116,101,32,60,47,115,112,97,110,62,60,115,112,97,110,62,83,112,97,105,110,32,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,68,97,116,101,32,111,102,32,98,105,114,116,104,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,48,49,32,74,97,110,117,97,114,121,32,49,57,51,48,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,47,116,98,111,100,121,62,60,47,116,97,98,108,101,62,60,47,100,105,118,62,34,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,117,115,101,34,58,34,116,101,109,112,34,44,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,58,109,121,83,101,99,114,101,116,75,101,121,34,125,93,44,34,97,99,116,105,118,101,34,58,116,114,117,101,44,34,110,97,109,101,34,58,91,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,71,97,115,112,97,114,45,116,101,115,116,34,125,93,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,83,77,83,124,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,115,121,115,116,101,109,34,58,34,112,104,111,110,101,34,44,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,34,125,93,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,44,34,98,105,114,116,104,68,97,116,101,34,58,34,49,57,51,48,45,48,49,45,48,49,34,44,34,97,100,100,114,101,115,115,34,58,91,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,93,44,34,112,104,111,116,111,34,58,91,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,106,112,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,34,125,44,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,112,110,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,50,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,50,34,125,93,44,34,99,111,110,116,97,99,116,34,58,91,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,111,115,116,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,32,99,111,110,116,97,99,116,32,97,114,114,97,121,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,125,44,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,50,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,50,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,50,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,50,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,50,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,50,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,109,97,108,101,34,125,93,44,34,99,111,109,109,117,110,105,99,97,116,105,111,110,34,58,91,123,34,108,97,110,103,117,97,103,101,34,58,123,34,116,101,120,116,34,58,34,86,78,34,125,44,34,112,114,101,102,101,114,114,101,100,34,58,116,114,117,101,125,93,44,34,108,105,110,107,34,58,91,123,34,111,116,104,101,114,34,58,123,34,114,101,102,101,114,101,110,99,101,34,58,34,80,97,116,105,101,110,116,47,50,48,50,34,125,44,34,116,121,112,101,34,58,34,114,101,102,101,114,34,125,93,125,125]},"cookie":[],"responseTime":269,"responseSize":2610},"id":"95e07aeb-ad4b-4812-a6f5-7fa969bbd503","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"response body contains expected properties","skipped":false},{"assertion":"response body contains expected values","skipped":false}]},{"cursor":{"ref":"9cff810a-8d1f-4d1a-8e8f-7e7cef7a3f60","length":26,"cycles":1,"position":6,"iteration":0,"httpRequestId":"7e0f9879-3367-453e-8c6b-a498059c35d1"},"item":{"id":"a95518bc-e0e3-4182-abb1-78a4e684cb03","name":"Get Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"f73e26c9-03bc-4a45-9d9f-63753a681fb2"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","","pm.test(\"response body contains META.PROFILE\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"meta\");","  pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test(\"response body contains META.PROFILE\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"meta\");","  pm.expect(fhirResult).to.include.keys('id', 'name', 'telecom', 'active');","});","","pm.test(\"summaryDetails contains the right profile\", function () {","  var meta = pm.response.json().fhirResult.meta.profile;","  const project = pm.collectionVariables.get(\"project\") // TEST-KEN","  pm.expect(meta).to.include(project);","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"id\");","});",""],"_lastExecutionId":"4df99d18-a393-4528-acb5-b9decf4c964a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient","146353"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"40f2739b-b027-42c4-a697-991cbf241a11","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"82cb7f24-6955-4546-b83c-6db2c9b503d8","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"a32-Q0iHtzeuyOqSE7PZb5K2FXPodrw\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:57 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde1e21d0104afc527cc"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,80,97,116,105,101,110,116,34,44,34,105,100,34,58,34,49,52,54,51,53,51,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,51,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,54,58,53,55,46,51,55,51,43,48,48,58,48,48,34,44,34,115,111,117,114,99,101,34,58,34,35,66,57,117,107,111,53,75,86,48,110,67,65,104,114,89,97,34,44,34,112,114,111,102,105,108,101,34,58,91,34,68,85,77,77,89,45,69,83,80,34,44,34,97,51,54,48,45,69,83,80,34,93,125,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,100,105,118,32,99,108,97,115,115,61,92,34,104,97,112,105,72,101,97,100,101,114,84,101,120,116,92,34,47,62,60,116,97,98,108,101,32,99,108,97,115,115,61,92,34,104,97,112,105,80,114,111,112,101,114,116,121,84,97,98,108,101,92,34,62,60,116,98,111,100,121,62,60,116,114,62,60,116,100,62,73,100,101,110,116,105,102,105,101,114,60,47,116,100,62,60,116,100,62,43,51,52,54,53,56,48,48,48,48,48,48,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,65,100,100,114,101,115,115,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,108,105,110,101,49,32,60,47,115,112,97,110,62,60,98,114,47,62,60,115,112,97,110,62,99,105,116,121,49,32,60,47,115,112,97,110,62,60,115,112,97,110,62,65,108,105,99,97,110,116,101,32,60,47,115,112,97,110,62,60,115,112,97,110,62,83,112,97,105,110,32,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,68,97,116,101,32,111,102,32,98,105,114,116,104,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,48,49,32,74,97,110,117,97,114,121,32,49,57,51,48,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,47,116,98,111,100,121,62,60,47,116,97,98,108,101,62,60,47,100,105,118,62,34,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,117,115,101,34,58,34,116,101,109,112,34,44,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,58,109,121,83,101,99,114,101,116,75,101,121,34,125,93,44,34,97,99,116,105,118,101,34,58,116,114,117,101,44,34,110,97,109,101,34,58,91,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,71,97,115,112,97,114,45,116,101,115,116,34,125,93,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,83,77,83,124,43,51,52,54,53,56,48,48,48,48,48,48,34,125,44,123,34,115,121,115,116,101,109,34,58,34,112,104,111,110,101,34,44,34,118,97,108,117,101,34,58,34,43,51,52,54,53,56,48,48,48,48,48,48,34,125,93,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,44,34,98,105,114,116,104,68,97,116,101,34,58,34,49,57,51,48,45,48,49,45,48,49,34,44,34,97,100,100,114,101,115,115,34,58,91,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,49,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,49,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,49,34,44,34,100,105,115,116,114,105,99,116,34,58,34,86,73,78,65,76,79,80,79,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,93,44,34,112,104,111,116,111,34,58,91,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,106,112,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,34,125,44,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,112,110,103,34,44,34,117,114,108,34,58,34,104,116,116,112,58,47,47,112,104,111,116,111,85,114,108,50,46,99,111,109,34,44,34,116,105,116,108,101,34,58,34,101,120,97,109,112,108,101,50,34,125,93,44,34,99,111,110,116,97,99,116,34,58,91,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,111,115,116,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,34,44,34,108,105,110,101,32,99,111,110,116,97,99,116,32,97,114,114,97,121,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,125,44,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,110,97,109,101,50,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,119,104,97,116,115,97,112,112,124,43,51,52,54,53,48,48,48,48,48,48,48,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,97,100,100,114,101,115,115,32,99,111,110,116,97,99,116,50,34,44,34,108,105,110,101,34,58,91,34,108,105,110,101,32,99,111,110,116,97,99,116,50,34,93,44,34,99,105,116,121,34,58,34,99,105,116,121,32,99,111,110,116,97,99,116,50,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,97,109,98,108,97,50,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,50,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,109,97,108,101,34,125,93,44,34,99,111,109,109,117,110,105,99,97,116,105,111,110,34,58,91,123,34,108,97,110,103,117,97,103,101,34,58,123,34,116,101,120,116,34,58,34,86,78,34,125,44,34,112,114,101,102,101,114,114,101,100,34,58,116,114,117,101,125,93,44,34,108,105,110,107,34,58,91,123,34,111,116,104,101,114,34,58,123,34,114,101,102,101,114,101,110,99,101,34,58,34,80,97,116,105,101,110,116,47,50,48,50,34,125,44,34,116,121,112,101,34,58,34,114,101,102,101,114,34,125,93,125,125]},"cookie":[],"responseTime":265,"responseSize":2610},"id":"a95518bc-e0e3-4182-abb1-78a4e684cb03","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"summaryDetails contains the right profile","skipped":false},{"assertion":"summaryDetails contains activityRecordsList","skipped":false}]},{"cursor":{"ref":"f338d58d-29e7-4fad-b0bc-59abe4ea1cfa","length":26,"cycles":1,"position":7,"iteration":0,"httpRequestId":"c2cf91b3-49d0-488a-a594-312481e27222"},"item":{"id":"bb44d439-e8fb-4338-9593-403c5c6d8b97","name":"createQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"POST"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"query":[],"variable":[]},"method":"POST"},"id":"bb44d439-e8fb-4338-9593-403c5c6d8b97","requestError":{}},{"cursor":{"ref":"0efb88c8-6917-4466-af55-40be40a24ee7","length":26,"cycles":1,"position":8,"iteration":0,"httpRequestId":"4fb32ac9-c292-425a-8057-c98bfee4eebb"},"item":{"id":"e9b36c43-eb58-4ffc-8bbf-c6b290572332","name":"patchQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"PUT"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"query":[],"variable":[]},"method":"PUT"},"id":"e9b36c43-eb58-4ffc-8bbf-c6b290572332","requestError":{}},{"cursor":{"ref":"28647d8f-151c-4420-bed8-40bd77b7f543","length":26,"cycles":1,"position":9,"iteration":0,"httpRequestId":"bf40acec-a12a-4e27-b10e-c419196e5f38"},"item":{"id":"2f59ba33-b245-4e8c-834f-bedef49a40e9","name":"delete QuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"DELETE"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"query":[],"variable":[]},"method":"DELETE"},"id":"2f59ba33-b245-4e8c-834f-bedef49a40e9","requestError":{}},{"cursor":{"ref":"627345af-5b53-4e98-8b1e-e71a6b47e936","length":26,"cycles":1,"position":10,"iteration":0,"httpRequestId":"931c1544-beda-49c2-9767-a7728f77058d"},"item":{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["forgetMe","Patient","146353"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"624a1f74-6061-4a7a-bf17-447b4f354f93","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"0","system":true}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"0a5a4267-6a3c-42b7-a7f9-dfb4ed1c7e97","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"16-MytPup3CFIT8Kbc98eZy7XpAdi8\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:58 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde2e21d0104afc527ed"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,115,105,122,101,34,58,48,44,34,116,105,109,101,111,117,116,34,58,48,125]},"cookie":[],"responseTime":317,"responseSize":22},"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected { size: 0, timeout: 0 } in response to contain property 'resourceType'","stack":"AssertionError: expected { size: 0, timeout: 0 } in response to contain property 'resourceType'\n   at Object.eval sandbox-script.js:2:11)"}},{"assertion":"response resourceType is Bundle","skipped":false,"error":{"name":"AssertionError","index":2,"test":"response resourceType is Bundle","message":"expected undefined to deeply equal 'Bundle'","stack":"AssertionError: expected undefined to deeply equal 'Bundle'\n   at Object.eval sandbox-script.js:3:11)"}},{"assertion":"response the status is 200 ok","skipped":false,"error":{"name":"TypeError","index":3,"test":"response the status is 200 ok","message":"Cannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n   at Object.eval sandbox-script.js:4:11)"}}]},{"cursor":{"ref":"5bc41f0f-a941-415d-a35e-129db9729010","length":26,"cycles":1,"position":11,"iteration":0,"httpRequestId":"6f92bf40-3bae-4602-a7e0-3229e0a31cc1"},"item":{"id":"d2853f2a-eac0-4b43-8889-b9e18af1d6dc","name":"Get Patient redacted","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"c19c51fc-e03d-470c-ba4a-13accd85b15a"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","pm.test(\"response body contains META.PROFILE\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"meta\");","    pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"id\");","});","","pm.test('response body contains expected basic info', function () {","    const { active, birthDate, gender, name, link } = pm.response.json().fhirResult;","    const { text, use } = name[0];","    const { type, other } = link[0];","    const { reference } = other;","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(active).to.eql(false);","    pm.expect(birthDate).to.eql('1930');","    pm.expect(gender).to.eql('female');","    pm.expect(reference).to.eql('Patient/202');","    pm.expect(type).to.eql('refer');","});","","pm.test('response body contains expected address', function () {","    const { address } = pm.response.json().fhirResult;","    const { use, type, text, line, city, district, state, postalCode, country, period } = address[0];","    const { use: use1, type: type1, text: text1, line: line1, city: city1, district: district1, state: state1, postalCode: postalCode1, country: country1, period: period1 } = address[1];","    pm.expect(use).to.eql('home');","    pm.expect(use1).to.eql('home');","    pm.expect(type).to.eql('physical');","    pm.expect(type1).to.eql('physical');","    pm.expect(line).to.include('REDACTED');","    pm.expect(line1).to.include('REDACTED');","    pm.expect(text).to.eql('REDACTED');","    pm.expect(text1).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(city1).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(district1).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(postalCode1).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(country1).to.eql('Spain');","    pm.expect(state).to.eql('Alicante');","    pm.expect(state1).to.eql('Alicante');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","    pm.expect(period1.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period1.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected contact', function () {","    const { relationship, telecom, name, address, gender } = pm.response.json().fhirResult.contact[0];","    const { text: rtext, coding } = relationship[0];","    const { code } = coding[0];","    const { text, use } = name;","    const { system, value } = telecom[0];","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(gender).to.eql('female');","    pm.expect(rtext).to.eql('contact point1');","    pm.expect(code).to.eql('CP');","    pm.expect(system).to.eql('other');","    pm.expect(value).to.eql('N/A');","","","    const { use: aUse, type, text: aText, line, city, district, state, postalCode, country, period } = address;","    pm.expect(aUse).to.eql('home');","    pm.expect(type).to.eql('postal');","    pm.expect(line).to.include('REDACTED');","    pm.expect(aText).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(state).to.eql('Barcelona');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel1 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel2 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"value\": \"REDACTED\"","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"REDACTED\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('response body contains expected photo', function () {","    const { photo } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"contentType\": \"jpg\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    const expectedId1 = {","        \"contentType\": \"png\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    pm.expect(photo).to.be.an('array');","    pm.expect(photo).to.deep.include(expectedId0);","    pm.expect(photo).to.deep.include(expectedId1);","});",""],"_lastExecutionId":"d6a0c90d-d74d-4fc9-b496-436b110fbbfb"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient","146353"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"60705b5a-f9ab-4796-a1f1-ff5656e5e5ee","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"4df5ad16-1c52-4056-a605-9e248c7d3552","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"9e6-gZhJLVdcBfsH7D9At7sTNo7R6Ew\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:58 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde2e21d0104afc5280e"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,80,97,116,105,101,110,116,34,44,34,105,100,34,58,34,49,52,54,51,53,51,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,52,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,54,58,53,56,46,48,55,50,43,48,48,58,48,48,34,44,34,115,111,117,114,99,101,34,58,34,35,103,113,106,116,88,115,109,67,50,106,67,82,113,122,77,49,34,44,34,112,114,111,102,105,108,101,34,58,91,34,68,85,77,77,89,45,69,83,80,34,44,34,97,51,54,48,45,69,83,80,34,93,125,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,100,105,118,32,99,108,97,115,115,61,92,34,104,97,112,105,72,101,97,100,101,114,84,101,120,116,92,34,47,62,60,116,97,98,108,101,32,99,108,97,115,115,61,92,34,104,97,112,105,80,114,111,112,101,114,116,121,84,97,98,108,101,92,34,62,60,116,98,111,100,121,62,60,116,114,62,60,116,100,62,73,100,101,110,116,105,102,105,101,114,60,47,116,100,62,60,116,100,62,82,69,68,65,67,84,69,68,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,65,100,100,114,101,115,115,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,82,69,68,65,67,84,69,68,32,60,47,115,112,97,110,62,60,98,114,47,62,60,115,112,97,110,62,82,69,68,65,67,84,69,68,32,60,47,115,112,97,110,62,60,115,112,97,110,62,65,108,105,99,97,110,116,101,32,60,47,115,112,97,110,62,60,115,112,97,110,62,83,112,97,105,110,32,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,116,114,62,60,116,100,62,68,97,116,101,32,111,102,32,98,105,114,116,104,60,47,116,100,62,60,116,100,62,60,115,112,97,110,62,48,49,32,74,97,110,117,97,114,121,32,49,57,51,48,60,47,115,112,97,110,62,60,47,116,100,62,60,47,116,114,62,60,47,116,98,111,100,121,62,60,47,116,97,98,108,101,62,60,47,100,105,118,62,34,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,118,97,108,117,101,34,58,34,82,69,68,65,67,84,69,68,34,125,44,123,34,117,115,101,34,58,34,116,101,109,112,34,44,34,118,97,108,117,101,34,58,34,82,69,68,65,67,84,69,68,34,125,93,44,34,97,99,116,105,118,101,34,58,102,97,108,115,101,44,34,110,97,109,101,34,58,91,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,82,69,68,65,67,84,69,68,34,125,93,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,78,47,65,34,125,44,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,78,47,65,34,125,44,123,34,115,121,115,116,101,109,34,58,34,112,104,111,110,101,34,44,34,118,97,108,117,101,34,58,34,78,47,65,34,125,93,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,44,34,98,105,114,116,104,68,97,116,101,34,58,34,49,57,51,48,34,44,34,97,100,100,114,101,115,115,34,58,91,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,108,105,110,101,34,58,91,34,82,69,68,65,67,84,69,68,34,93,44,34,99,105,116,121,34,58,34,82,69,68,65,67,84,69,68,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,112,111,115,116,97,108,67,111,100,101,34,58,34,82,69,68,65,67,84,69,68,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,108,105,110,101,34,58,91,34,82,69,68,65,67,84,69,68,34,93,44,34,99,105,116,121,34,58,34,82,69,68,65,67,84,69,68,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,115,116,97,116,101,34,58,34,65,108,105,99,97,110,116,101,34,44,34,112,111,115,116,97,108,67,111,100,101,34,58,34,82,69,68,65,67,84,69,68,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,93,44,34,112,104,111,116,111,34,58,91,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,106,112,103,34,44,34,117,114,108,34,58,34,82,69,68,65,67,84,69,68,34,44,34,116,105,116,108,101,34,58,34,82,69,68,65,67,84,69,68,34,125,44,123,34,99,111,110,116,101,110,116,84,121,112,101,34,58,34,112,110,103,34,44,34,117,114,108,34,58,34,82,69,68,65,67,84,69,68,34,44,34,116,105,116,108,101,34,58,34,82,69,68,65,67,84,69,68,34,125,93,44,34,99,111,110,116,97,99,116,34,58,91,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,82,69,68,65,67,84,69,68,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,78,47,65,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,111,115,116,97,108,34,44,34,116,101,120,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,108,105,110,101,34,58,91,34,82,69,68,65,67,84,69,68,34,93,44,34,99,105,116,121,34,58,34,82,69,68,65,67,84,69,68,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,34,44,34,112,111,115,116,97,108,67,111,100,101,34,58,34,82,69,68,65,67,84,69,68,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,102,101,109,97,108,101,34,125,44,123,34,114,101,108,97,116,105,111,110,115,104,105,112,34,58,91,123,34,99,111,100,105,110,103,34,58,91,123,34,99,111,100,101,34,58,34,67,80,34,125,93,44,34,116,101,120,116,34,58,34,99,111,110,116,97,99,116,32,112,111,105,110,116,49,34,125,93,44,34,110,97,109,101,34,58,123,34,117,115,101,34,58,34,117,115,117,97,108,34,44,34,116,101,120,116,34,58,34,82,69,68,65,67,84,69,68,34,125,44,34,116,101,108,101,99,111,109,34,58,91,123,34,115,121,115,116,101,109,34,58,34,111,116,104,101,114,34,44,34,118,97,108,117,101,34,58,34,78,47,65,34,125,93,44,34,97,100,100,114,101,115,115,34,58,123,34,117,115,101,34,58,34,104,111,109,101,34,44,34,116,121,112,101,34,58,34,112,104,121,115,105,99,97,108,34,44,34,116,101,120,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,108,105,110,101,34,58,91,34,82,69,68,65,67,84,69,68,34,93,44,34,99,105,116,121,34,58,34,82,69,68,65,67,84,69,68,34,44,34,100,105,115,116,114,105,99,116,34,58,34,82,69,68,65,67,84,69,68,34,44,34,115,116,97,116,101,34,58,34,66,97,114,99,101,108,111,110,97,50,34,44,34,112,111,115,116,97,108,67,111,100,101,34,58,34,82,69,68,65,67,84,69,68,34,44,34,99,111,117,110,116,114,121,34,58,34,83,112,97,105,110,34,44,34,112,101,114,105,111,100,34,58,123,34,115,116,97,114,116,34,58,34,50,48,49,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,44,34,101,110,100,34,58,34,50,48,50,53,45,48,50,45,48,55,84,49,51,58,50,56,58,49,55,45,48,53,58,48,48,34,125,125,44,34,103,101,110,100,101,114,34,58,34,109,97,108,101,34,125,93,44,34,99,111,109,109,117,110,105,99,97,116,105,111,110,34,58,91,123,34,108,97,110,103,117,97,103,101,34,58,123,34,116,101,120,116,34,58,34,86,78,34,125,44,34,112,114,101,102,101,114,114,101,100,34,58,116,114,117,101,125,93,44,34,108,105,110,107,34,58,91,123,34,111,116,104,101,114,34,58,123,34,114,101,102,101,114,101,110,99,101,34,58,34,80,97,116,105,101,110,116,47,50,48,50,34,125,44,34,116,121,112,101,34,58,34,114,101,102,101,114,34,125,93,125,125]},"cookie":[],"responseTime":265,"responseSize":2534},"id":"d2853f2a-eac0-4b43-8889-b9e18af1d6dc","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"summaryDetails contains the right profile","skipped":false},{"assertion":"summaryDetails contains activityRecordsList","skipped":false},{"assertion":"response body contains expected basic info","skipped":false},{"assertion":"response body contains expected address","skipped":false},{"assertion":"response body contains expected contact","skipped":false},{"assertion":"response body contains expected telecom","skipped":false},{"assertion":"response body contains expected identifiers","skipped":false},{"assertion":"response body contains expected photo","skipped":false}]},{"cursor":{"ref":"41f64f9d-2175-4d2f-8ca8-5a59beb0fbb2","length":26,"cycles":1,"position":12,"iteration":0,"httpRequestId":"6d5c457e-fbb9-4144-a6c1-bd9ae832618d"},"item":{"id":"a71db66e-2d0c-4912-8944-2603773abbbf","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"73dee882-3694-41a9-b0ab-70667ff5d599"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient","146353"],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"882ac0da-6d78-4390-8d77-39787fd25dd8","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"920709ff-02af-4be3-a3f0-593a758f0a61","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"1cb-gQGUJ0FgvgDUImrpzlhRnzaeQIY\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:58 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde2e21d0104afc5282f"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,73,78,70,79,82,77,65,84,73,79,78,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,52,109,115,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,105,110,102,111,114,109,97,116,105,111,110,34,44,34,99,111,100,101,34,58,34,105,110,102,111,114,109,97,116,105,111,110,97,108,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,52,109,115,34,125,93,125,125]},"cookie":[],"responseTime":263,"responseSize":459},"id":"a71db66e-2d0c-4912-8944-2603773abbbf","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"deleted is accepted","skipped":false}]},{"cursor":{"ref":"38313be2-6486-481b-98fd-b177d467041d","length":26,"cycles":1,"position":13,"iteration":0,"httpRequestId":"9e9c730f-f6d2-4896-af2b-f85366c3f5ba"},"item":{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Practitioner"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"0bafd2b3-0a71-4498-a5a4-cfa79358827c","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"519","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"d8063ac4-b349-4c95-a2c0-c150c9306503","status":"Created","code":201,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"132-1hRQzYfAaOt6jBtRqZE5vvvNmDU\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:58 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde2e21d0104afc5284f"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,80,114,97,99,116,105,116,105,111,110,101,114,34,44,34,105,100,34,58,34,49,52,54,51,53,52,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,49,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,54,58,53,56,46,57,57,49,43,48,48,58,48,48,34,44,34,112,114,111,102,105,108,101,34,58,91,34,83,87,90,45,75,79,82,34,93,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,115,121,115,116,101,109,34,58,34,104,116,116,112,58,47,47,115,97,109,112,108,101,46,105,110,102,111,47,112,114,97,99,116,105,116,105,111,110,101,114,34,44,34,118,97,108,117,101,34,58,34,76,65,95,84,69,83,84,95,73,80,67,50,34,125,93,44,34,97,99,116,105,118,101,34,58,116,114,117,101,44,34,110,97,109,101,34,58,91,123,34,102,97,109,105,108,121,34,58,34,76,65,95,84,69,83,84,95,73,80,67,50,34,44,34,103,105,118,101,110,34,58,91,34,73,80,67,32,85,115,101,114,34,93,125,93,125,125]},"cookie":[],"responseTime":262,"responseSize":306},"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"response body contains expected properties","skipped":false},{"assertion":"response body contains expected values","skipped":false},{"assertion":"summaryDetails contains the right profile","skipped":false}]},{"cursor":{"ref":"82ee4bb7-e2de-43ff-80e0-b54c13892d0b","length":26,"cycles":1,"position":14,"iteration":0,"httpRequestId":"714804e7-5c74-44b4-92c7-80bf3a302a31"},"item":{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Practitioner"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"02c3c31c-da09-44b1-aed9-162d891e26f3","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"522","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"d32167f4-4cd5-4b92-92bd-8a069fd0d31a","status":"Created","code":201,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"135-BIGFv50/AzFNcDsMxw662sIKaRg\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:59 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde3e21d0104afc52870"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,80,114,97,99,116,105,116,105,111,110,101,114,34,44,34,105,100,34,58,34,49,52,54,51,53,53,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,49,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,54,58,53,57,46,50,57,50,43,48,48,58,48,48,34,44,34,112,114,111,102,105,108,101,34,58,91,34,83,87,90,45,75,79,82,34,93,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,115,121,115,116,101,109,34,58,34,104,116,116,112,58,47,47,115,97,109,112,108,101,46,105,110,102,111,47,112,114,97,99,116,105,116,105,111,110,101,114,34,44,34,118,97,108,117,101,34,58,34,76,65,95,84,69,83,84,95,80,82,79,86,50,34,125,93,44,34,97,99,116,105,118,101,34,58,116,114,117,101,44,34,110,97,109,101,34,58,91,123,34,102,97,109,105,108,121,34,58,34,76,65,95,84,69,83,84,95,80,82,79,86,50,34,44,34,103,105,118,101,110,34,58,91,34,80,82,79,86,32,85,115,101,114,34,93,125,93,125,125]},"cookie":[],"responseTime":297,"responseSize":309},"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"response body contains expected properties","skipped":false},{"assertion":"response body contains expected values","skipped":false},{"assertion":"summaryDetails contains the right profile","skipped":false}]},{"cursor":{"ref":"212738d1-b0fe-472e-acb6-8754d53050ae","length":26,"cycles":1,"position":15,"iteration":0,"httpRequestId":"4b76070f-3540-4368-9075-5fabd5a706f5"},"item":{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"688204b8-8971-48b0-ac93-7dbca99c1101","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"1166","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"6c060084-1c15-4cb1-be00-8b23e41f2c76","status":"Bad Request","code":400,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"252-SBy/rZYA1uCJvUlNxRhAUKO1JoE\""},{"key":"date","value":"Mon, 14 Aug 2023 06:46:59 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde3e21d0104afc52891"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,69,82,82,79,82,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,73,110,118,97,108,105,100,32,114,101,115,111,117,114,99,101,32,114,101,102,101,114,101,110,99,101,32,102,111,117,110,100,32,97,116,32,112,97,116,104,91,80,97,116,105,101,110,116,46,103,101,110,101,114,97,108,80,114,97,99,116,105,116,105,111,110,101,114,93,32,45,32,68,111,101,115,32,110,111,116,32,99,111,110,116,97,105,110,32,114,101,115,111,117,114,99,101,32,73,68,32,45,32,80,114,97,99,116,105,116,105,111,110,101,114,47,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,101,114,114,111,114,34,44,34,99,111,100,101,34,58,34,112,114,111,99,101,115,115,105,110,103,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,73,110,118,97,108,105,100,32,114,101,115,111,117,114,99,101,32,114,101,102,101,114,101,110,99,101,32,102,111,117,110,100,32,97,116,32,112,97,116,104,91,80,97,116,105,101,110,116,46,103,101,110,101,114,97,108,80,114,97,99,116,105,116,105,111,110,101,114,93,32,45,32,68,111,101,115,32,110,111,116,32,99,111,110,116,97,105,110,32,114,101,115,111,117,114,99,101,32,73,68,32,45,32,80,114,97,99,116,105,116,105,111,110,101,114,47,34,125,93,125,125]},"cookie":[],"responseTime":292,"responseSize":594},"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","assertions":[{"assertion":"response is ok","skipped":false,"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 201 but got 400","stack":"AssertionError: expected response to have status code 201 but got 400\n   at Object.eval sandbox-script.js:1:16)"}},{"assertion":"response body is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected response code to be 2XX but found 400","stack":"AssertionError: expected response code to be 2XX but found 400\n   at Object.eval sandbox-script.js:2:16)"}},{"assertion":"response body contains META.PROFILE","skipped":false,"error":{"name":"AssertionError","index":2,"test":"response body contains META.PROFILE","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:3:16)"}},{"assertion":"response body contains expected properties","skipped":false,"error":{"name":"AssertionError","index":3,"test":"response body contains expected properties","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:4:16)"}},{"assertion":"response body generalPractitioner contains expected values","skipped":false,"error":{"name":"AssertionError","index":4,"test":"response body generalPractitioner contains expected values","message":"expected undefined to be an array","stack":"AssertionError: expected undefined to be an array\n   at Object.eval sandbox-script.js:5:16)"}},{"assertion":"summaryDetails contains the right profile","skipped":false,"error":{"name":"TypeError","index":5,"test":"summaryDetails contains the right profile","message":"Cannot read property 'profile' of undefined","stack":"TypeError: Cannot read property 'profile' of undefined\n   at Object.eval sandbox-script.js:6:16)"}}]},{"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61"},"item":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","QuestionnaireResponse"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"5b3d2d07-06d8-45e0-ab38-aa31b256f833","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"1457","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"3b7b0638-8750-450a-854f-48d011686822","status":"Bad Request","code":400,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"284-067k8msl2WtcgXhEH53sijYXK+A\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:00 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde4e21d0104afc528d3"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,69,82,82,79,82,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,73,110,118,97,108,105,100,32,114,101,115,111,117,114,99,101,32,114,101,102,101,114,101,110,99,101,32,102,111,117,110,100,32,97,116,32,112,97,116,104,91,81,117,101,115,116,105,111,110,110,97,105,114,101,82,101,115,112,111,110,115,101,46,115,117,98,106,101,99,116,46,119,104,101,114,101,40,114,101,115,111,108,118,101,40,41,32,105,115,32,80,97,116,105,101,110,116,41,93,32,45,32,68,111,101,115,32,110,111,116,32,99,111,110,116,97,105,110,32,114,101,115,111,117,114,99,101,32,73,68,32,45,32,80,97,116,105,101,110,116,47,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,101,114,114,111,114,34,44,34,99,111,100,101,34,58,34,112,114,111,99,101,115,115,105,110,103,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,73,110,118,97,108,105,100,32,114,101,115,111,117,114,99,101,32,114,101,102,101,114,101,110,99,101,32,102,111,117,110,100,32,97,116,32,112,97,116,104,91,81,117,101,115,116,105,111,110,110,97,105,114,101,82,101,115,112,111,110,115,101,46,115,117,98,106,101,99,116,46,119,104,101,114,101,40,114,101,115,111,108,118,101,40,41,32,105,115,32,80,97,116,105,101,110,116,41,93,32,45,32,68,111,101,115,32,110,111,116,32,99,111,110,116,97,105,110,32,114,101,115,111,117,114,99,101,32,73,68,32,45,32,80,97,116,105,101,110,116,47,34,125,93,125,125]},"cookie":[],"responseTime":367,"responseSize":644},"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","assertions":[{"assertion":"response is ok","skipped":false,"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 201 but got 400","stack":"AssertionError: expected response to have status code 201 but got 400\n   at Object.eval sandbox-script.js:1:17)"}},{"assertion":"response body is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected response code to be 2XX but found 400","stack":"AssertionError: expected response code to be 2XX but found 400\n   at Object.eval sandbox-script.js:2:17)"}},{"assertion":"response body contains META.PROFILE","skipped":false,"error":{"name":"AssertionError","index":2,"test":"response body contains META.PROFILE","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:3:17)"}},{"assertion":"response body contains expected properties","skipped":false,"error":{"name":"AssertionError","index":3,"test":"response body contains expected properties","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:4:17)"}},{"assertion":"response body - extension contains expected values","skipped":false,"error":{"name":"AssertionError","index":4,"test":"response body - extension contains expected values","message":"expected undefined to be an array","stack":"AssertionError: expected undefined to be an array\n   at Object.eval sandbox-script.js:5:17)"}},{"assertion":"response body - item contains expected values","skipped":false,"error":{"name":"AssertionError","index":5,"test":"response body - item contains expected values","message":"expected undefined to be an array","stack":"AssertionError: expected undefined to be an array\n   at Object.eval sandbox-script.js:6:17)"}},{"assertion":"summaryDetails contains the right profile","skipped":false,"error":{"name":"TypeError","index":6,"test":"summaryDetails contains the right profile","message":"Cannot read property 'profile' of undefined","stack":"TypeError: Cannot read property 'profile' of undefined\n   at Object.eval sandbox-script.js:7:17)"}}]},{"cursor":{"ref":"9354705d-e2e4-41bd-a46f-61c1fae2a3a1","length":26,"cycles":1,"position":17,"iteration":0,"httpRequestId":"29431d65-1d22-4fba-a1a9-58b7fbdb2b66"},"item":{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","ServiceRequest"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"3b80dc03-bc7a-40ea-bfd1-6ac948643548","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"587","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"939cc77d-ac6c-4b2d-9529-164111426f1c","status":"Created","code":201,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"15f-g9uMt905rhDvVfiOBZeU/2JqOYw\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:00 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde4e21d0104afc528f4"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,83,101,114,118,105,99,101,82,101,113,117,101,115,116,34,44,34,105,100,34,58,34,49,52,54,51,53,54,34,44,34,109,101,116,97,34,58,123,34,118,101,114,115,105,111,110,73,100,34,58,34,49,34,44,34,108,97,115,116,85,112,100,97,116,101,100,34,58,34,50,48,50,51,45,48,56,45,49,52,84,48,54,58,52,55,58,48,48,46,51,54,48,43,48,48,58,48,48,34,44,34,112,114,111,102,105,108,101,34,58,91,34,83,87,90,45,75,79,82,34,93,125,44,34,105,100,101,110,116,105,102,105,101,114,34,58,91,123,34,115,121,115,116,101,109,34,58,34,104,116,116,112,58,47,47,115,97,109,112,108,101,46,105,110,102,111,47,118,111,117,99,104,101,114,45,115,101,113,45,110,111,34,44,34,118,97,108,117,101,34,58,34,49,48,48,48,50,34,125,93,44,34,115,116,97,116,117,115,34,58,34,100,114,97,102,116,34,44,34,105,110,116,101,110,116,34,58,34,112,114,111,112,111,115,97,108,34,44,34,99,111,100,101,34,58,123,34,99,111,100,105,110,103,34,58,91,123,34,115,121,115,116,101,109,34,58,34,104,116,116,112,58,47,47,115,97,109,112,108,101,46,105,110,102,111,47,118,111,117,99,104,101,114,45,99,111,100,101,34,44,34,99,111,100,101,34,58,34,48,48,56,77,54,50,34,125,93,125,125,125]},"cookie":[],"responseTime":346,"responseSize":351},"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"response body is accepted","skipped":false},{"assertion":"response body contains META.PROFILE","skipped":false},{"assertion":"response body contains expected properties","skipped":false},{"assertion":"summaryDetails contains the right profile","skipped":false},{"assertion":"summaryDetails contains activityRecordsList","skipped":false}]},{"cursor":{"ref":"05626054-fdf6-408b-9e14-1bbd258d58a0","length":26,"cycles":1,"position":18,"iteration":0,"httpRequestId":"80fc9dcd-e79e-4c15-ba73-8606cc367673"},"item":{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","ServiceRequest","146356"],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"8a17ef56-dc91-45e9-b1b4-82f3e5a30d82","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"e54ef808-b4ad-4319-83cc-a0484c89ef1b","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"1cb-Aw+FMCbUGQ1/E62oFOiyAtFl/+A\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:00 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde4e21d0104afc52916"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,73,78,70,79,82,77,65,84,73,79,78,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,50,109,115,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,105,110,102,111,114,109,97,116,105,111,110,34,44,34,99,111,100,101,34,58,34,105,110,102,111,114,109,97,116,105,111,110,97,108,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,50,109,115,34,125,93,125,125]},"cookie":[],"responseTime":310,"responseSize":459},"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"deleted is accepted","skipped":false}]},{"cursor":{"ref":"e09b5d8f-1cde-4671-aa09-38d816c1bd7d","length":26,"cycles":1,"position":19,"iteration":0,"httpRequestId":"2adf663a-0dd7-4f2b-8a2a-2dd7c1cdfb3e"},"item":{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","QuestionnaireResponse",""],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"136860df-ae5d-43ba-9ee0-f4c1dfc455c3","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"46f56d1d-76ee-4c32-bff4-fb5f6f9d355e","status":"Method Not Allowed","code":405,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"2b0-P43U5QhANqzALQCHatzvatHyfGM\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:01 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde5e21d0104afc52936"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,69,82,82,79,82,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,101,114,114,111,114,34,44,34,99,111,100,101,34,58,34,112,114,111,99,101,115,115,105,110,103,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,34,125,93,125,125]},"cookie":[],"responseTime":312,"responseSize":688},"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","assertions":[{"assertion":"response is ok","skipped":false,"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:20)"}},{"assertion":"deleted is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:20)"}}]},{"cursor":{"ref":"cc3c542d-d7e5-4d77-b3db-9c2594c03bc7","length":26,"cycles":1,"position":20,"iteration":0,"httpRequestId":"f534262d-3068-4df4-a426-97ab10eeeac5"},"item":{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Patient",""],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"1dd8e5ef-3d10-45f0-ae53-4e209c595561","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"cb02cc2a-f9db-46a8-bcee-e0cef51e2964","status":"Method Not Allowed","code":405,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"2b0-P43U5QhANqzALQCHatzvatHyfGM\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:01 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde5e21d0104afc52957"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,69,82,82,79,82,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,101,114,114,111,114,34,44,34,99,111,100,101,34,58,34,112,114,111,99,101,115,115,105,110,103,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,95,101,120,112,117,110,103,101,32,105,115,32,110,111,116,32,101,110,97,98,108,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,58,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,111,110,32,116,104,105,115,32,115,101,114,118,101,114,46,32,32,84,104,101,32,102,111,108,108,111,119,105,110,103,32,99,111,110,102,105,103,117,114,97,116,105,111,110,115,32,97,114,101,32,100,105,115,97,98,108,101,100,58,32,77,117,108,116,105,112,108,101,32,68,101,108,101,116,101,44,32,68,101,108,101,116,101,32,69,120,112,117,110,103,101,34,125,93,125,125]},"cookie":[],"responseTime":337,"responseSize":688},"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","assertions":[{"assertion":"response is ok","skipped":false,"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:21)"}},{"assertion":"deleted is accepted","skipped":false,"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:21)"}}]},{"cursor":{"ref":"387bb58a-65b6-4088-9807-863a15348deb","length":26,"cycles":1,"position":21,"iteration":0,"httpRequestId":"99526d87-5859-47db-889d-19e93d089bce"},"item":{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Practitioner","146355"],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"8e2e257f-7c06-4688-aba2-ecd5e376e336","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"0f24c6d8-cdf1-4c09-9852-c0bf40ee42bc","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"1cb-0oFbVI562qq/uBaDWcVTgy5M1+c\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:01 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde5e21d0104afc52978"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,73,78,70,79,82,77,65,84,73,79,78,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,51,109,115,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,105,110,102,111,114,109,97,116,105,111,110,34,44,34,99,111,100,101,34,58,34,105,110,102,111,114,109,97,116,105,111,110,97,108,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,51,109,115,34,125,93,125,125]},"cookie":[],"responseTime":274,"responseSize":459},"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"deleted is accepted","skipped":false}]},{"cursor":{"ref":"3c40fe0f-ed70-4049-9611-43d84cc70deb","length":26,"cycles":1,"position":22,"iteration":0,"httpRequestId":"63754c92-9f2b-42da-b575-50115acb75c6"},"item":{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["fhir","Practitioner","146354"],"host":["openhim-dev","psi-mis","org"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"},{"key":"Authorization","value":"Basic a2UtbmV3QkUtY2xpZW50OlJ4cDZUI01ub3ImOGRQ","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Postman-Token","value":"cb3011da-e02e-4412-b63a-8dcd6bfdfe37","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"Rxp6T#Mnor&8dP","key":"password"},{"type":"string","value":"ke-newBE-client","key":"username"}]}},"response":{"id":"8272826d-05ba-4b72-99a4-7fb11bb1ae65","status":"OK","code":200,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"1cb-Aw+FMCbUGQ1/E62oFOiyAtFl/+A\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:02 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde6e21d0104afc5299f"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,102,104,105,114,82,101,115,117,108,116,34,58,123,34,114,101,115,111,117,114,99,101,84,121,112,101,34,58,34,79,112,101,114,97,116,105,111,110,79,117,116,99,111,109,101,34,44,34,116,101,120,116,34,58,123,34,115,116,97,116,117,115,34,58,34,103,101,110,101,114,97,116,101,100,34,44,34,100,105,118,34,58,34,60,100,105,118,32,120,109,108,110,115,61,92,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,92,34,62,60,104,49,62,79,112,101,114,97,116,105,111,110,32,79,117,116,99,111,109,101,60,47,104,49,62,60,116,97,98,108,101,32,98,111,114,100,101,114,61,92,34,48,92,34,62,60,116,114,62,60,116,100,32,115,116,121,108,101,61,92,34,102,111,110,116,45,119,101,105,103,104,116,58,32,98,111,108,100,59,92,34,62,73,78,70,79,82,77,65,84,73,79,78,60,47,116,100,62,60,116,100,62,91,93,60,47,116,100,62,60,116,100,62,60,112,114,101,62,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,50,109,115,60,47,112,114,101,62,60,47,116,100,62,92,110,92,116,92,116,92,116,60,47,116,114,62,92,110,92,116,92,116,60,47,116,97,98,108,101,62,92,110,92,116,60,47,100,105,118,62,34,125,44,34,105,115,115,117,101,34,58,91,123,34,115,101,118,101,114,105,116,121,34,58,34,105,110,102,111,114,109,97,116,105,111,110,34,44,34,99,111,100,101,34,58,34,105,110,102,111,114,109,97,116,105,111,110,97,108,34,44,34,100,105,97,103,110,111,115,116,105,99,115,34,58,34,83,117,99,99,101,115,115,102,117,108,108,121,32,100,101,108,101,116,101,100,32,49,32,114,101,115,111,117,114,99,101,40,115,41,32,105,110,32,50,109,115,34,125,93,125,125]},"cookie":[],"responseTime":276,"responseSize":459},"id":"917397d0-f07b-418f-9848-7263eb8cd585","assertions":[{"assertion":"response is ok","skipped":false},{"assertion":"deleted is accepted","skipped":false}]},{"cursor":{"ref":"4a93fe96-fece-4336-82c1-edddc031c8bb","length":26,"cycles":1,"position":23,"iteration":0,"httpRequestId":"c0886da5-c17f-40f3-a6a0-85333dc65031"},"item":{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"},{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"912bfc5b-e4ca-4808-95be-6ff277012b33","system":true},{"key":"Host","value":"openhim-dev.psi-mis.org:5001","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"337","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":{"id":"5caeb55e-8393-425f-88de-abaeec40fd65","status":"Internal Server Error","code":500,"header":[{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Vary","value":"Accept-Encoding"},{"key":"content-security-policy","value":"default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"},{"key":"cross-origin-embedder-policy","value":"require-corp"},{"key":"cross-origin-opener-policy","value":"same-origin"},{"key":"cross-origin-resource-policy","value":"same-origin"},{"key":"x-dns-prefetch-control","value":"off"},{"key":"expect-ct","value":"max-age=0"},{"key":"x-frame-options","value":"SAMEORIGIN"},{"key":"strict-transport-security","value":"max-age=15552000; includeSubDomains"},{"key":"x-download-options","value":"noopen"},{"key":"x-content-type-options","value":"nosniff"},{"key":"origin-agent-cluster","value":"?1"},{"key":"x-permitted-cross-domain-policies","value":"none"},{"key":"referrer-policy","value":"no-referrer"},{"key":"x-xss-protection","value":"0"},{"key":"etag","value":"W/\"84-tW064/1X4bGUYQWhOID3CHMq7C4\""},{"key":"date","value":"Mon, 14 Aug 2023 06:47:02 GMT"},{"key":"connection","value":"keep-alive"},{"key":"keep-alive","value":"timeout=5"},{"key":"X-OpenHIM-TransactionID","value":"64d9cde6e21d0104afc529be"},{"key":"Content-Encoding","value":"br"},{"key":"Transfer-Encoding","value":"chunked"}],"stream":{"type":"Buffer","data":[123,34,115,116,97,116,117,115,95,99,111,100,101,34,58,53,48,48,44,34,115,116,97,116,117,115,34,58,34,101,114,114,111,114,34,44,34,109,115,103,34,58,34,76,105,118,101,65,103,101,110,116,77,101,100,105,97,116,111,114,32,45,32,69,114,114,111,114,32,119,104,105,108,101,32,116,114,121,105,110,103,32,116,111,32,114,101,103,105,115,116,101,114,32,99,108,105,101,110,116,46,32,84,121,112,101,69,114,114,111,114,58,32,109,32,105,115,32,110,111,116,32,105,116,101,114,97,98,108,101,34,125]},"cookie":[],"responseTime":395,"responseSize":132},"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","assertions":[{"assertion":"Status code is 200","skipped":false,"error":{"name":"AssertionError","index":0,"test":"Status code is 200","message":"expected response to have status code 200 but got 500","stack":"AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:24)"}},{"assertion":"Body-Register client in rocket chat response is correct","skipped":false,"error":{"name":"AssertionError","index":1,"test":"Body-Register client in rocket chat response is correct","message":"expected response body json to equal { Object (status_code, status, ...) } but got { Object (status_code, status, ...) }","stack":"AssertionError: expected response body json to equal { Object (status_code, status, ...) } but got { Object (status_code, status, ...) }\n   at Object.eval sandbox-script.js:2:24)"}}]},{"cursor":{"ref":"992d644c-678d-4713-bd8e-229fd32fc175","length":26,"cycles":1,"position":24,"iteration":0,"httpRequestId":"20d7f084-2c41-4d4d-9162-da799595b501"},"item":{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"79f29b50-09d2-4258-8b7d-20129016c8dd","system":true},{"key":"Host","value":"localhost:3008","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","requestError":{"errno":-61,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":3008},"assertions":[{"assertion":"Status code is 200","skipped":false,"error":{"name":"AssertionError","index":0,"test":"Status code is 200","message":"expected { Object (id, _details, ...) } to have property 'code'","stack":"AssertionError: expected { Object (id, _details, ...) } to have property 'code'\n   at Object.eval sandbox-script.js:1:25)"}},{"assertion":"Body- sendmessage client to agent response is correct","skipped":false,"error":{"name":"AssertionError","index":1,"test":"Body- sendmessage client to agent response is correct","message":"expected response body json to equal { Object (status_code, status, ...) } but got undefined","stack":"AssertionError: expected response body json to equal { Object (status_code, status, ...) } but got undefined\n   at Object.eval sandbox-script.js:2:25)"}}]},{"cursor":{"ref":"1d74181b-14d7-4853-90d5-a64f207d9573","length":26,"cycles":1,"position":25,"iteration":0,"httpRequestId":"fcb997f7-58d1-49fb-932e-de8247665c1d"},"item":{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"request":{"url":{"protocol":"http","port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.29.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"e5161f87-bdf4-418d-ad9b-fb5ff56d7086","system":true},{"key":"Host","value":"localhost:3008","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}],"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","requestError":{"errno":-61,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":3008},"assertions":[{"assertion":"Status code is 200","skipped":false,"error":{"name":"AssertionError","index":0,"test":"Status code is 200","message":"expected { Object (id, _details, ...) } to have property 'code'","stack":"AssertionError: expected { Object (id, _details, ...) } to have property 'code'\n   at Object.eval sandbox-script.js:1:26)"}},{"assertion":"Body- send message agent to client response is correct","skipped":false,"error":{"name":"AssertionError","index":1,"test":"Body- send message agent to client response is correct","message":"expected response body json to equal { Object (status_code, status, ...) } but got undefined","stack":"AssertionError: expected response body json to equal { Object (status_code, status, ...) } but got undefined\n   at Object.eval sandbox-script.js:2:26)"}}]}],"transfers":{"responseTotal":20471},"failures":[{"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 400","stack":"AssertionError: expected response to have status code 200 but got 400\n   at Object.eval sandbox-script.js:1:1)","checksum":"d26245e2eb4c1cd8301a23b281689556","id":"446d1e79-0b1e-4155-8a51-e7b00ac79c7b","timestamp":1691995615834,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":1,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"position":0,"iteration":0,"length":26,"cycles":1,"empty":false,"eof":false,"bof":true,"cr":false,"ref":"4bf6e3ea-cfa5-4e06-8c05-23258a732469","httpRequestId":"613a6a96-c576-4910-bc71-fe6c4550d1ce","scriptId":"32a175a9-5439-451f-911b-a083d9c1f166","execution":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}},{"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected response code to be 2XX but found 400","stack":"AssertionError: expected response code to be 2XX but found 400\n   at Object.eval sandbox-script.js:2:1)","checksum":"a0fd9f80b83579defa0e49495ba0f02d","id":"d383539d-b6e3-466d-a1c0-f8372d2c75ee","timestamp":1691995615837,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":1,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"position":0,"iteration":0,"length":26,"cycles":1,"empty":false,"eof":false,"bof":true,"cr":false,"ref":"4bf6e3ea-cfa5-4e06-8c05-23258a732469","httpRequestId":"613a6a96-c576-4910-bc71-fe6c4550d1ce","scriptId":"32a175a9-5439-451f-911b-a083d9c1f166","execution":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}},{"error":{"name":"AssertionError","index":2,"test":"response body contains expected properties","message":"expected { Object (resourceType, text, ...) } to contain keys 'id', 'type', and 'entry'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to contain keys 'id', 'type', and 'entry'\n   at Object.eval sandbox-script.js:3:1)","checksum":"a49160fba677d8cdd270057d6bf7e0f5","id":"ebf22c4b-605d-4567-86f7-a2d451d9b1d3","timestamp":1691995615840,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":3,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":1,"native":false}]},"at":"assertion:2 in test-script","source":{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"position":0,"iteration":0,"length":26,"cycles":1,"empty":false,"eof":false,"bof":true,"cr":false,"ref":"4bf6e3ea-cfa5-4e06-8c05-23258a732469","httpRequestId":"613a6a96-c576-4910-bc71-fe6c4550d1ce","scriptId":"32a175a9-5439-451f-911b-a083d9c1f166","execution":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}},{"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:2)","checksum":"d1e525d30a93268e8b0b81d54cbb716e","id":"1901c7a1-8bfb-4c5d-b58e-575b3987b902","timestamp":1691995616148,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":2,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"0ea8ea66-8807-4cb0-bbf7-0a7adeec53c3","length":26,"cycles":1,"position":1,"iteration":0,"httpRequestId":"715eae95-b959-4f13-a612-ec0fa58233d9","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}},{"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:2)","checksum":"4fee9f6c92243c246738acf8415da41a","id":"cb98634e-a319-4167-82d6-42cd10342395","timestamp":1691995616150,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":2,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"0ea8ea66-8807-4cb0-bbf7-0a7adeec53c3","length":26,"cycles":1,"position":1,"iteration":0,"httpRequestId":"715eae95-b959-4f13-a612-ec0fa58233d9","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}},{"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:3)","checksum":"2061894aa32834922fdbdbd0bec736ea","id":"65b69785-6360-4be8-8288-538b5189a5a7","timestamp":1691995616454,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":3,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"3e059c0f-6ba5-4a0f-b29c-57d466e42951","length":26,"cycles":1,"position":2,"iteration":0,"httpRequestId":"9231c881-2ca8-42eb-9d77-9f26a087cfb8","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}},{"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:3)","checksum":"8477f4c4abaaad43930238530e7c865e","id":"23a81a07-397d-429c-9e8a-b47f7f9a901a","timestamp":1691995616455,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":3,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"2092c801-4905-47a2-adb0-bb9cb0100f58","name":"AIOI","item":[{"id":"a54e979a-94ce-4bc8-92ab-0221c99ff57e","name":"executeBundle","request":{"url":{"path":["fhir",""],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"AIOI"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"resourceType\": \"Bundle\",\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:uuid:patient\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"active\": true,\n                \"meta\": {\n                    \"profile\": [\n                        \"{{profileAIOI}}\"\n                    ]\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"urn:facebook\",\n                        \"value\": \"facebook_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:google\",\n                        \"value\": \"google_id-gaspar-test\"\n                    },\n                    {\n                        \"system\": \"urn:zalo\",\n                        \"value\": \"zalo_id-gaspar-test\"\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"use\": \"usual\",\n                        \"text\": \"-gaspar-test\"\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+34 666 777 888\",\n                        \"use\": \"mobile\"\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"fullUrl\": \"urn:uuid:consent\",\n            \"resource\": {\n                \"resourceType\": \"Consent\",\n                \"status\": \"active\",\n                \"scope\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://terminology.hl7.org/CodeSystem/consentscope\",\n                            \"code\": \"patient-privacy\"\n                        }\n                    ]\n                },\n                \"category\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://loinc.org\",\n                                \"code\": \"57016-8\"\n                            }\n                        ]\n                    }\n                ],\n                \"performer\": {\n                    \"reference\": \"urn:uuid:patient\"\n                },\n                \"dateTime\": \"2022-04-27\"\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Consent\"\n            }\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{user}}","key":"username"},{"type":"string","value":"{{pass}}","key":"password"}]}},"response":[],"event":[{"listen":"test","script":{"id":"32a175a9-5439-451f-911b-a083d9c1f166","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'type', 'entry');","","    const { entry } = pm.response.json().fhirResult;","    const [, patientAioiId] = entry[0].response.location.split('/');","    const [, consentAioiId] = entry[1].response.location.split('/');","    pm.collectionVariables.set('patientAioiId', patientAioiId);","    pm.collectionVariables.set('consentAioiId', consentAioiId);","});",""],"_lastExecutionId":"ac9d6ab7-ba56-43a8-8723-b405c9d5e41a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"7b86f701-f79f-40a5-b616-4e34852cdba8","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"c4c144a6-33ca-4688-a78c-e567f16be8e6"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"c491257e-26be-46ba-9484-98605e3511ed","name":"delete Consent","request":{"url":{"path":["fhir","Consent","{{consentAioiId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"3e059c0f-6ba5-4a0f-b29c-57d466e42951","length":26,"cycles":1,"position":2,"iteration":0,"httpRequestId":"9231c881-2ca8-42eb-9d77-9f26a087cfb8","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"8d148c60-a65f-402d-98eb-1b73398d8ad2"}},{"error":{"name":"AssertionError","index":5,"test":"summaryDetails contains the right profile","message":"expected [ 'a360-ESP' ] to include ''","stack":"AssertionError: expected [ 'a360-ESP' ] to include ''\n   at Object.eval sandbox-script.js:6:4)","checksum":"b2988a85d803b2ffa9e217d7ce0bcbae","id":"71e35edf-a157-4133-bff7-5db80f59258b","timestamp":1691995616797,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":6,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":4,"native":false}]},"at":"assertion:5 in test-script","source":{"id":"9994b0ab-c1e4-4ac8-ba1e-c559a39de462","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"a360-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"0034658626816\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"0034000999000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658626816\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658626816\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658626816\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","","    pm.collectionVariables.set('patientID', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const {telecom} = pm.response.json().fhirResult;","    const expectedTel0 = {","        'system': 'other',","        'value': 'whatsapp|+34658626816'","    };","    const expectedTel1 = {","        'system': 'other',","        'value': 'SMS|+34658626816'","    };","    const expectedTel2 = {","        'system': 'phone',","        'value': '+34658626816'","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('project') // TEST-KEN","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"255b8bde-7240-48b9-846c-666c80e66919"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"bf135c0a-275f-476e-87c8-5c227e6d4f62","name":"Patient","item":[{"id":"9994b0ab-c1e4-4ac8-ba1e-c559a39de462","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"a360-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"0034658626816\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"0034000999000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658626816\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658626816\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658626816\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","","    pm.collectionVariables.set('patientID', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const {telecom} = pm.response.json().fhirResult;","    const expectedTel0 = {","        'system': 'other',","        'value': 'whatsapp|+34658626816'","    };","    const expectedTel1 = {","        'system': 'other',","        'value': 'SMS|+34658626816'","    };","    const expectedTel2 = {","        'system': 'phone',","        'value': '+34658626816'","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('project') // TEST-KEN","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"255b8bde-7240-48b9-846c-666c80e66919"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"21da96a3-6792-41c3-9a90-ac494579ee9f","name":"Update Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"id\": \"{{patientID}}\",\n        \"meta\": {\n            \"profile\": [\n                \"DUMMY-ESP\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"value\": \"+34658000000\"\n            },\n            {\n                \"use\": \"temp\",\n                \"value\": \"+34658000000:mySecretKey\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"use\": \"usual\",\n                \"text\": \"Gaspar-test\"\n            }\n        ],\n        \"telecom\": [\n            {\n                \"system\": \"other\",\n                \"value\": \"whatsapp|+34658000000\"\n            },\n            {\n                \"system\": \"other\",\n                \"value\": \"SMS|+34658000000\"\n            },\n            {\n                \"system\": \"phone\",\n                \"value\": \"+34658000000\"\n            }\n        ],\n        \"gender\": \"male\",\n        \"birthDate\": \"1930-01-01\",\n        \"address\": [\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            },\n            {\n                \"use\": \"home\",\n                \"type\": \"physical\",\n                \"text\": \"address1\",\n                \"line\": \"line1\",\n                \"city\": \"city1\",\n                \"district\": \"VINALOPO\",\n                \"state\": \"Alicante\",\n                \"country\": \"Spain\",\n                \"period\": {\n                    \"start\": \"2015-02-07T13:28:17-05:00\",\n                    \"end\": \"2025-02-07T13:28:17-05:00\"\n                }\n            }\n        ],\n        \"photo\": [\n            {\n                \"contentType\": \"jpg\",\n                \"url\": \"http://photoUrl.com\",\n                \"title\": \"example\"\n            },\n            {\n                \"contentType\": \"png\",\n                \"url\": \"http://photoUrl2.com\",\n                \"title\": \"example2\"\n            }\n        ],\n        \"link\": [\n            {\n                \"other\": {\n                    \"reference\": \"Patient/202\"\n                },\n                \"type\": \"refer\"\n            }\n        ],\n        \"contact\": [\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name\"\n                },\n                \"gender\": \"female\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"postal\",\n                    \"text\": \"address contact\",\n                    \"line\": [\n                        \"line contact\",\n                        \"line contact array\"\n                    ],\n                    \"city\": \"city contact\",\n                    \"district\": \"Rambla\",\n                    \"state\": \"Barcelona\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            },\n            {\n                \"relationship\": {\n                    \"coding\": [\n                        {\n                            \"code\": \"CP\"\n                        }\n                    ],\n                    \"text\": \"contact point1\"\n                },\n                \"name\": {\n                    \"use\": \"usual\",\n                    \"text\": \"contact name2\"\n                },\n                \"gender\": \"male\",\n                \"telecom\": [\n                    {\n                        \"system\": \"other\",\n                        \"value\": \"whatsapp|+34650000000\"\n                    }\n                ],\n                \"address\": {\n                    \"use\": \"home\",\n                    \"type\": \"physical\",\n                    \"text\": \"address contact2\",\n                    \"line\": \"line contact2\",\n                    \"city\": \"city contact2\",\n                    \"district\": \"Rambla2\",\n                    \"state\": \"Barcelona2\",\n                    \"country\": \"Spain\",\n                    \"period\": {\n                        \"start\": \"2015-02-07T13:28:17-05:00\",\n                        \"end\": \"2025-02-07T13:28:17-05:00\"\n                    }\n                }\n            }\n        ],\n        \"communication\": [\n            {\n                \"language\": {\n                    \"text\": \"VN\"\n                },\n                \"preferred\": true\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"9f9e22e9-ac05-4ea7-bf51-1e712bb7f76b","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        'system': 'other',","        'value': 'whatsapp|+34658000000'","    };","    const expectedTel1 = {","        'system': 'other',","        'value': 'SMS|+34658000000'","    };","    const expectedTel2 = {","        'system': 'phone',","        'value': '+34658000000'","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        'value': '+34658000000'","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"+34658000000:mySecretKey\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"296c4364-38bf-46e6-b785-c8714d56ecd1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"95e07aeb-ad4b-4812-a6f5-7fa969bbd503","name":"Patch Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"PUT","body":{"mode":"raw","raw":"{\n    \"reqMethod\": \"PATCH\",\n    \"fhir\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/gender\",\n            \"value\": \"female\"\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3c29cb31-70ee-4edc-8f04-96a746c91151","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(200);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'photo', 'contact', 'communication', 'link');","","    pm.collectionVariables.set('patientID', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const {gender} = pm.response.json().fhirResult;","    pm.expect(gender).to.eql('female');","});","","","",""],"_lastExecutionId":"7e6ae266-abb3-44e9-bef0-7f480ad52969"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a95518bc-e0e3-4182-abb1-78a4e684cb03","name":"Get Patient","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"f73e26c9-03bc-4a45-9d9f-63753a681fb2"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","","pm.test(\"response body contains META.PROFILE\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"meta\");","  pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test(\"response body contains META.PROFILE\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"meta\");","  pm.expect(fhirResult).to.include.keys('id', 'name', 'telecom', 'active');","});","","pm.test(\"summaryDetails contains the right profile\", function () {","  var meta = pm.response.json().fhirResult.meta.profile;","  const project = pm.collectionVariables.get(\"project\") // TEST-KEN","  pm.expect(meta).to.include(project);","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(fhirResult).to.have.property(\"id\");","});",""],"_lastExecutionId":"4df99d18-a393-4528-acb5-b9decf4c964a"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"730b38dc-41fb-4f5a-a8a4-94772604624b","length":26,"cycles":1,"position":3,"iteration":0,"httpRequestId":"2595a49f-8d35-497a-8303-79194522386d","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"255b8bde-7240-48b9-846c-666c80e66919"}},{"error":{"name":"Error","message":"runtime:extensions~request: request url is empty","stack":"Error: runtime:extensions~request: request url is empty\n    at Requester.request (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js:382:26)\n    at /Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js:152:37\n    at Function.create (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js:469:16)\n    at RequesterPool.create (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester-pool.js:67:22)\n    at /Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js:104:32\n    at /Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:251:13\n    at wrapper (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:271:20)\n    at replenish (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:441:29)\n    at /Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:451:13\n    at eachOfLimit$1 (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:477:34)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)\n    at eachOfSeries (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:813:16)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)\n    at _asyncMap (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:244:16)\n    at mapSeries (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:837:16)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)","checksum":"5f3ae383c6f5b42bebbd6cbe19870e1a","id":"032c9861-0d7b-44db-b63a-d5aa5722e7b5","timestamp":1691995617776,"stacktrace":[{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js","lineNumber":382,"functionName":"Requester.request","typeName":"Requester","methodName":"request","columnNumber":26,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js","lineNumber":152,"functionName":null,"typeName":null,"methodName":null,"columnNumber":37,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js","lineNumber":469,"functionName":"Function.create","typeName":"Function","methodName":"create","columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester-pool.js","lineNumber":67,"functionName":"RequesterPool.create","typeName":"RequesterPool","methodName":"create","columnNumber":22,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js","lineNumber":104,"functionName":null,"typeName":null,"methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":251,"functionName":null,"typeName":null,"methodName":null,"columnNumber":13,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":271,"functionName":"wrapper","typeName":"Object","methodName":null,"columnNumber":20,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":441,"functionName":"replenish","typeName":"Object","methodName":null,"columnNumber":29,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":451,"functionName":null,"typeName":null,"methodName":null,"columnNumber":13,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":477,"functionName":"eachOfLimit$1","typeName":"Object","methodName":null,"columnNumber":34,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":813,"functionName":"eachOfSeries","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":244,"functionName":"_asyncMap","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":837,"functionName":"mapSeries","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false}]},"at":"request","source":{"id":"bb44d439-e8fb-4338-9593-403c5c6d8b97","name":"createQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"POST"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"1d5f9950-4467-4998-86aa-cda9c8a6ad8c","name":"QuiestionnaireResponse","item":[{"id":"bb44d439-e8fb-4338-9593-403c5c6d8b97","name":"createQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"POST"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e9b36c43-eb58-4ffc-8bbf-c6b290572332","name":"patchQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"PUT"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2f59ba33-b245-4e8c-834f-bedef49a40e9","name":"delete QuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"DELETE"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f338d58d-29e7-4fad-b0bc-59abe4ea1cfa","length":26,"cycles":1,"position":7,"iteration":0,"httpRequestId":"c2cf91b3-49d0-488a-a594-312481e27222"}},{"error":{"name":"Error","message":"runtime:extensions~request: request url is empty","stack":"Error: runtime:extensions~request: request url is empty\n    at Requester.request (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js:382:26)\n    at /Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js:152:37\n    at Function.create (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js:469:16)\n    at RequesterPool.create (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester-pool.js:67:22)\n    at /Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js:104:32\n    at /Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:251:13\n    at wrapper (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:271:20)\n    at replenish (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:441:29)\n    at /Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:451:13\n    at eachOfLimit$1 (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:477:34)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)\n    at eachOfSeries (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:813:16)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)\n    at _asyncMap (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:244:16)\n    at mapSeries (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:837:16)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)","checksum":"5f3ae383c6f5b42bebbd6cbe19870e1a","id":"56bcc304-8f2c-4ffd-9a52-43f198b740cd","timestamp":1691995617796,"stacktrace":[{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js","lineNumber":382,"functionName":"Requester.request","typeName":"Requester","methodName":"request","columnNumber":26,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js","lineNumber":152,"functionName":null,"typeName":null,"methodName":null,"columnNumber":37,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js","lineNumber":469,"functionName":"Function.create","typeName":"Function","methodName":"create","columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester-pool.js","lineNumber":67,"functionName":"RequesterPool.create","typeName":"RequesterPool","methodName":"create","columnNumber":22,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js","lineNumber":104,"functionName":null,"typeName":null,"methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":251,"functionName":null,"typeName":null,"methodName":null,"columnNumber":13,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":271,"functionName":"wrapper","typeName":"Object","methodName":null,"columnNumber":20,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":441,"functionName":"replenish","typeName":"Object","methodName":null,"columnNumber":29,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":451,"functionName":null,"typeName":null,"methodName":null,"columnNumber":13,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":477,"functionName":"eachOfLimit$1","typeName":"Object","methodName":null,"columnNumber":34,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":813,"functionName":"eachOfSeries","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":244,"functionName":"_asyncMap","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":837,"functionName":"mapSeries","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false}]},"at":"request","source":{"id":"e9b36c43-eb58-4ffc-8bbf-c6b290572332","name":"patchQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"PUT"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"1d5f9950-4467-4998-86aa-cda9c8a6ad8c","name":"QuiestionnaireResponse","item":[{"id":"bb44d439-e8fb-4338-9593-403c5c6d8b97","name":"createQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"POST"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e9b36c43-eb58-4ffc-8bbf-c6b290572332","name":"patchQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"PUT"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2f59ba33-b245-4e8c-834f-bedef49a40e9","name":"delete QuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"DELETE"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"0efb88c8-6917-4466-af55-40be40a24ee7","length":26,"cycles":1,"position":8,"iteration":0,"httpRequestId":"4fb32ac9-c292-425a-8057-c98bfee4eebb"}},{"error":{"name":"Error","message":"runtime:extensions~request: request url is empty","stack":"Error: runtime:extensions~request: request url is empty\n    at Requester.request (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js:382:26)\n    at /Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js:152:37\n    at Function.create (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js:469:16)\n    at RequesterPool.create (/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester-pool.js:67:22)\n    at /Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js:104:32\n    at /Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:251:13\n    at wrapper (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:271:20)\n    at replenish (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:441:29)\n    at /Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:451:13\n    at eachOfLimit$1 (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:477:34)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)\n    at eachOfSeries (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:813:16)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)\n    at _asyncMap (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:244:16)\n    at mapSeries (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:837:16)\n    at awaitable (/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js:211:32)","checksum":"5f3ae383c6f5b42bebbd6cbe19870e1a","id":"fe76d840-e81a-4e2d-b66b-bf261afeffa3","timestamp":1691995617814,"stacktrace":[{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js","lineNumber":382,"functionName":"Requester.request","typeName":"Requester","methodName":"request","columnNumber":26,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js","lineNumber":152,"functionName":null,"typeName":null,"methodName":null,"columnNumber":37,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester.js","lineNumber":469,"functionName":"Function.create","typeName":"Function","methodName":"create","columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/requester/requester-pool.js","lineNumber":67,"functionName":"RequesterPool.create","typeName":"RequesterPool","methodName":"create","columnNumber":22,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/postman-runtime/lib/runner/extensions/http-request.command.js","lineNumber":104,"functionName":null,"typeName":null,"methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":251,"functionName":null,"typeName":null,"methodName":null,"columnNumber":13,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":271,"functionName":"wrapper","typeName":"Object","methodName":null,"columnNumber":20,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":441,"functionName":"replenish","typeName":"Object","methodName":null,"columnNumber":29,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":451,"functionName":null,"typeName":null,"methodName":null,"columnNumber":13,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":477,"functionName":"eachOfLimit$1","typeName":"Object","methodName":null,"columnNumber":34,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":813,"functionName":"eachOfSeries","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":244,"functionName":"_asyncMap","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":837,"functionName":"mapSeries","typeName":"Object","methodName":null,"columnNumber":16,"native":false},{"fileName":"/Users/gaspar/Project/newman-action/node_modules/async/dist/async.js","lineNumber":211,"functionName":"awaitable","typeName":"Object","methodName":null,"columnNumber":32,"native":false}]},"at":"request","source":{"id":"2f59ba33-b245-4e8c-834f-bedef49a40e9","name":"delete QuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"DELETE"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"1d5f9950-4467-4998-86aa-cda9c8a6ad8c","name":"QuiestionnaireResponse","item":[{"id":"bb44d439-e8fb-4338-9593-403c5c6d8b97","name":"createQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"POST"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e9b36c43-eb58-4ffc-8bbf-c6b290572332","name":"patchQuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"PUT"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2f59ba33-b245-4e8c-834f-bedef49a40e9","name":"delete QuestionnaireResponse","request":{"url":{"query":[],"variable":[]},"method":"DELETE"},"response":[],"event":[],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"28647d8f-151c-4420-bed8-40bd77b7f543","length":26,"cycles":1,"position":9,"iteration":0,"httpRequestId":"bf40acec-a12a-4e27-b10e-c419196e5f38"}},{"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected { size: 0, timeout: 0 } in response to contain property 'resourceType'","stack":"AssertionError: expected { size: 0, timeout: 0 } in response to contain property 'resourceType'\n   at Object.eval sandbox-script.js:2:11)","checksum":"4c19a76a88121756f46ded31f47b9224","id":"22971bd4-8d73-4847-a3e7-bda9e92a0f44","timestamp":1691995618167,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":11,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"042e3fed-a7cb-4ea1-856c-2438b9b3447f","name":"forgetme","item":[{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"d2853f2a-eac0-4b43-8889-b9e18af1d6dc","name":"Get Patient redacted","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"c19c51fc-e03d-470c-ba4a-13accd85b15a"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","pm.test(\"response body contains META.PROFILE\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"meta\");","    pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"id\");","});","","pm.test('response body contains expected basic info', function () {","    const { active, birthDate, gender, name, link } = pm.response.json().fhirResult;","    const { text, use } = name[0];","    const { type, other } = link[0];","    const { reference } = other;","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(active).to.eql(false);","    pm.expect(birthDate).to.eql('1930');","    pm.expect(gender).to.eql('female');","    pm.expect(reference).to.eql('Patient/202');","    pm.expect(type).to.eql('refer');","});","","pm.test('response body contains expected address', function () {","    const { address } = pm.response.json().fhirResult;","    const { use, type, text, line, city, district, state, postalCode, country, period } = address[0];","    const { use: use1, type: type1, text: text1, line: line1, city: city1, district: district1, state: state1, postalCode: postalCode1, country: country1, period: period1 } = address[1];","    pm.expect(use).to.eql('home');","    pm.expect(use1).to.eql('home');","    pm.expect(type).to.eql('physical');","    pm.expect(type1).to.eql('physical');","    pm.expect(line).to.include('REDACTED');","    pm.expect(line1).to.include('REDACTED');","    pm.expect(text).to.eql('REDACTED');","    pm.expect(text1).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(city1).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(district1).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(postalCode1).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(country1).to.eql('Spain');","    pm.expect(state).to.eql('Alicante');","    pm.expect(state1).to.eql('Alicante');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","    pm.expect(period1.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period1.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected contact', function () {","    const { relationship, telecom, name, address, gender } = pm.response.json().fhirResult.contact[0];","    const { text: rtext, coding } = relationship[0];","    const { code } = coding[0];","    const { text, use } = name;","    const { system, value } = telecom[0];","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(gender).to.eql('female');","    pm.expect(rtext).to.eql('contact point1');","    pm.expect(code).to.eql('CP');","    pm.expect(system).to.eql('other');","    pm.expect(value).to.eql('N/A');","","","    const { use: aUse, type, text: aText, line, city, district, state, postalCode, country, period } = address;","    pm.expect(aUse).to.eql('home');","    pm.expect(type).to.eql('postal');","    pm.expect(line).to.include('REDACTED');","    pm.expect(aText).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(state).to.eql('Barcelona');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel1 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel2 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"value\": \"REDACTED\"","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"REDACTED\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('response body contains expected photo', function () {","    const { photo } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"contentType\": \"jpg\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    const expectedId1 = {","        \"contentType\": \"png\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    pm.expect(photo).to.be.an('array');","    pm.expect(photo).to.deep.include(expectedId0);","    pm.expect(photo).to.deep.include(expectedId1);","});",""],"_lastExecutionId":"d6a0c90d-d74d-4fc9-b496-436b110fbbfb"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"627345af-5b53-4e98-8b1e-e71a6b47e936","length":26,"cycles":1,"position":10,"iteration":0,"httpRequestId":"931c1544-beda-49c2-9767-a7728f77058d","scriptId":"c70291ca-46b3-4374-9219-28b4b066318f","execution":"24086b0e-46bf-42af-b219-d41dae702822"}},{"error":{"name":"AssertionError","index":2,"test":"response resourceType is Bundle","message":"expected undefined to deeply equal 'Bundle'","stack":"AssertionError: expected undefined to deeply equal 'Bundle'\n   at Object.eval sandbox-script.js:3:11)","checksum":"999bbdc860e7107e04d134bd14e75829","id":"9374f2bb-2734-48ed-8c35-d676f1dd94ff","timestamp":1691995618168,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":3,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":11,"native":false}]},"at":"assertion:2 in test-script","source":{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"042e3fed-a7cb-4ea1-856c-2438b9b3447f","name":"forgetme","item":[{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"d2853f2a-eac0-4b43-8889-b9e18af1d6dc","name":"Get Patient redacted","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"c19c51fc-e03d-470c-ba4a-13accd85b15a"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","pm.test(\"response body contains META.PROFILE\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"meta\");","    pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"id\");","});","","pm.test('response body contains expected basic info', function () {","    const { active, birthDate, gender, name, link } = pm.response.json().fhirResult;","    const { text, use } = name[0];","    const { type, other } = link[0];","    const { reference } = other;","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(active).to.eql(false);","    pm.expect(birthDate).to.eql('1930');","    pm.expect(gender).to.eql('female');","    pm.expect(reference).to.eql('Patient/202');","    pm.expect(type).to.eql('refer');","});","","pm.test('response body contains expected address', function () {","    const { address } = pm.response.json().fhirResult;","    const { use, type, text, line, city, district, state, postalCode, country, period } = address[0];","    const { use: use1, type: type1, text: text1, line: line1, city: city1, district: district1, state: state1, postalCode: postalCode1, country: country1, period: period1 } = address[1];","    pm.expect(use).to.eql('home');","    pm.expect(use1).to.eql('home');","    pm.expect(type).to.eql('physical');","    pm.expect(type1).to.eql('physical');","    pm.expect(line).to.include('REDACTED');","    pm.expect(line1).to.include('REDACTED');","    pm.expect(text).to.eql('REDACTED');","    pm.expect(text1).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(city1).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(district1).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(postalCode1).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(country1).to.eql('Spain');","    pm.expect(state).to.eql('Alicante');","    pm.expect(state1).to.eql('Alicante');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","    pm.expect(period1.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period1.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected contact', function () {","    const { relationship, telecom, name, address, gender } = pm.response.json().fhirResult.contact[0];","    const { text: rtext, coding } = relationship[0];","    const { code } = coding[0];","    const { text, use } = name;","    const { system, value } = telecom[0];","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(gender).to.eql('female');","    pm.expect(rtext).to.eql('contact point1');","    pm.expect(code).to.eql('CP');","    pm.expect(system).to.eql('other');","    pm.expect(value).to.eql('N/A');","","","    const { use: aUse, type, text: aText, line, city, district, state, postalCode, country, period } = address;","    pm.expect(aUse).to.eql('home');","    pm.expect(type).to.eql('postal');","    pm.expect(line).to.include('REDACTED');","    pm.expect(aText).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(state).to.eql('Barcelona');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel1 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel2 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"value\": \"REDACTED\"","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"REDACTED\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('response body contains expected photo', function () {","    const { photo } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"contentType\": \"jpg\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    const expectedId1 = {","        \"contentType\": \"png\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    pm.expect(photo).to.be.an('array');","    pm.expect(photo).to.deep.include(expectedId0);","    pm.expect(photo).to.deep.include(expectedId1);","});",""],"_lastExecutionId":"d6a0c90d-d74d-4fc9-b496-436b110fbbfb"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"627345af-5b53-4e98-8b1e-e71a6b47e936","length":26,"cycles":1,"position":10,"iteration":0,"httpRequestId":"931c1544-beda-49c2-9767-a7728f77058d","scriptId":"c70291ca-46b3-4374-9219-28b4b066318f","execution":"24086b0e-46bf-42af-b219-d41dae702822"}},{"error":{"name":"TypeError","index":3,"test":"response the status is 200 ok","message":"Cannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n   at Object.eval sandbox-script.js:4:11)","checksum":"c598aa0c4277be244ad548ac45d2d47a","id":"0f949bc3-3dd9-47d0-97df-40249e98a5f8","timestamp":1691995618168,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":4,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":11,"native":false}]},"at":"assertion:3 in test-script","source":{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"042e3fed-a7cb-4ea1-856c-2438b9b3447f","name":"forgetme","item":[{"id":"fdf10b01-7a36-4fa0-9392-8ecceeaf9def","name":"forgetMePatient","request":{"url":{"path":["forgetMe","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-ESP"}],"method":"PUT","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"c70291ca-46b3-4374-9219-28b4b066318f","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"resourceType\"));","});","","pm.test(\"response resourceType is Bundle\", function () {","    var { resourceType } = pm.response.json();","    pm.expect(resourceType).to.eql(\"Bundle\");","});","","pm.test(\"response the status is 200 ok\", function () {","    var { status } = pm.response.json().entry[0].response;","    pm.expect(status).to.eql(\"200 OK\");","});",""],"_lastExecutionId":"24086b0e-46bf-42af-b219-d41dae702822"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"d2853f2a-eac0-4b43-8889-b9e18af1d6dc","name":"Get Patient redacted","request":{"url":{"path":["fhir","Patient","{{patientID}}"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"GET","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"prerequest","script":{"id":"f672a148-ca26-4c16-9876-216c46d81b30","type":"text/javascript","exec":["const project = pm.collectionVariables.set(\"project\",\"a360-ESP\") // TEST-KEN",""],"_lastExecutionId":"c19c51fc-e03d-470c-ba4a-13accd85b15a"}},{"listen":"test","script":{"id":"7535ab7a-9471-46f1-8cbf-f6db955be258","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"response body is accepted\", function () {","    pm.response.to.be.withBody;","    pm.response.to.be.ok;","    pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","});","","pm.test(\"response body contains META.PROFILE\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"meta\");","    pm.expect(fhirResult.meta).to.have.property(\"profile\");","});","","pm.test('summaryDetails contains the right profile', function () {","    var { profile } = pm.response.json().fhirResult.meta;","    pm.expect(profile).to.include('a360-ESP');","    pm.expect(profile).to.include('DUMMY-ESP');","});","","pm.test(\"summaryDetails contains activityRecordsList\", function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property(\"id\");","});","","pm.test('response body contains expected basic info', function () {","    const { active, birthDate, gender, name, link } = pm.response.json().fhirResult;","    const { text, use } = name[0];","    const { type, other } = link[0];","    const { reference } = other;","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(active).to.eql(false);","    pm.expect(birthDate).to.eql('1930');","    pm.expect(gender).to.eql('female');","    pm.expect(reference).to.eql('Patient/202');","    pm.expect(type).to.eql('refer');","});","","pm.test('response body contains expected address', function () {","    const { address } = pm.response.json().fhirResult;","    const { use, type, text, line, city, district, state, postalCode, country, period } = address[0];","    const { use: use1, type: type1, text: text1, line: line1, city: city1, district: district1, state: state1, postalCode: postalCode1, country: country1, period: period1 } = address[1];","    pm.expect(use).to.eql('home');","    pm.expect(use1).to.eql('home');","    pm.expect(type).to.eql('physical');","    pm.expect(type1).to.eql('physical');","    pm.expect(line).to.include('REDACTED');","    pm.expect(line1).to.include('REDACTED');","    pm.expect(text).to.eql('REDACTED');","    pm.expect(text1).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(city1).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(district1).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(postalCode1).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(country1).to.eql('Spain');","    pm.expect(state).to.eql('Alicante');","    pm.expect(state1).to.eql('Alicante');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","    pm.expect(period1.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period1.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected contact', function () {","    const { relationship, telecom, name, address, gender } = pm.response.json().fhirResult.contact[0];","    const { text: rtext, coding } = relationship[0];","    const { code } = coding[0];","    const { text, use } = name;","    const { system, value } = telecom[0];","    pm.expect(text).to.eql('REDACTED');","    pm.expect(use).to.eql('usual');","    pm.expect(gender).to.eql('female');","    pm.expect(rtext).to.eql('contact point1');","    pm.expect(code).to.eql('CP');","    pm.expect(system).to.eql('other');","    pm.expect(value).to.eql('N/A');","","","    const { use: aUse, type, text: aText, line, city, district, state, postalCode, country, period } = address;","    pm.expect(aUse).to.eql('home');","    pm.expect(type).to.eql('postal');","    pm.expect(line).to.include('REDACTED');","    pm.expect(aText).to.eql('REDACTED');","    pm.expect(city).to.eql('REDACTED');","    pm.expect(district).to.eql('REDACTED');","    pm.expect(postalCode).to.eql('REDACTED');","    pm.expect(country).to.eql('Spain');","    pm.expect(state).to.eql('Barcelona');","    pm.expect(period.start).to.eql('2015-02-07T13:28:17-05:00');","    pm.expect(period.end).to.eql('2025-02-07T13:28:17-05:00');","});","","pm.test('response body contains expected telecom', function () {","    const { telecom } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel1 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    };","    const expectedTel2 = {","        \"system\": \"other\",","        \"value\": \"N/A\"","    }","    pm.expect(telecom).to.be.an('array');","    pm.expect(telecom).to.deep.include(expectedTel0);","    pm.expect(telecom).to.deep.include(expectedTel1);","    pm.expect(telecom).to.deep.include(expectedTel2);","});","","pm.test('response body contains expected identifiers', function () {","    const { identifier } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"value\": \"REDACTED\"","    };","    const expectedId1 = {","        \"use\": \"temp\",","        \"value\": \"REDACTED\"","    };","    pm.expect(identifier).to.be.an('array');","    pm.expect(identifier).to.deep.include(expectedId0);","    pm.expect(identifier).to.deep.include(expectedId1);","});","","","pm.test('response body contains expected photo', function () {","    const { photo } = pm.response.json().fhirResult;","    const expectedId0 = {","        \"contentType\": \"jpg\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    const expectedId1 = {","        \"contentType\": \"png\",","        \"url\": \"REDACTED\",","        \"title\": \"REDACTED\"","    };","    pm.expect(photo).to.be.an('array');","    pm.expect(photo).to.deep.include(expectedId0);","    pm.expect(photo).to.deep.include(expectedId1);","});",""],"_lastExecutionId":"d6a0c90d-d74d-4fc9-b496-436b110fbbfb"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"627345af-5b53-4e98-8b1e-e71a6b47e936","length":26,"cycles":1,"position":10,"iteration":0,"httpRequestId":"931c1544-beda-49c2-9767-a7728f77058d","scriptId":"c70291ca-46b3-4374-9219-28b4b066318f","execution":"24086b0e-46bf-42af-b219-d41dae702822"}},{"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 201 but got 400","stack":"AssertionError: expected response to have status code 201 but got 400\n   at Object.eval sandbox-script.js:1:16)","checksum":"c2f9ff51ec3a58f468875dd86850428a","id":"d938909b-5ca0-4438-bbcd-8e255de649a0","timestamp":1691995619720,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":16,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"212738d1-b0fe-472e-acb6-8754d53050ae","length":26,"cycles":1,"position":15,"iteration":0,"httpRequestId":"4b76070f-3540-4368-9075-5fabd5a706f5","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}},{"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected response code to be 2XX but found 400","stack":"AssertionError: expected response code to be 2XX but found 400\n   at Object.eval sandbox-script.js:2:16)","checksum":"e01d82c14f587a1ca3a868a5f04075a2","id":"c10d9aab-3979-4028-8da8-df129971ea47","timestamp":1691995619721,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":16,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"212738d1-b0fe-472e-acb6-8754d53050ae","length":26,"cycles":1,"position":15,"iteration":0,"httpRequestId":"4b76070f-3540-4368-9075-5fabd5a706f5","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}},{"error":{"name":"AssertionError","index":2,"test":"response body contains META.PROFILE","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:3:16)","checksum":"1b66ebf2088b0341f0fc06d91b04e18d","id":"caba37d6-9152-443d-aab2-65231fcd7308","timestamp":1691995619723,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":3,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":16,"native":false}]},"at":"assertion:2 in test-script","source":{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"212738d1-b0fe-472e-acb6-8754d53050ae","length":26,"cycles":1,"position":15,"iteration":0,"httpRequestId":"4b76070f-3540-4368-9075-5fabd5a706f5","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}},{"error":{"name":"AssertionError","index":3,"test":"response body contains expected properties","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:4:16)","checksum":"a9eb2ee61d694d7233aabfcc1ac60189","id":"42c032fe-e4e5-428d-b322-299486976c16","timestamp":1691995619723,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":4,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":16,"native":false}]},"at":"assertion:3 in test-script","source":{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"212738d1-b0fe-472e-acb6-8754d53050ae","length":26,"cycles":1,"position":15,"iteration":0,"httpRequestId":"4b76070f-3540-4368-9075-5fabd5a706f5","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}},{"error":{"name":"AssertionError","index":4,"test":"response body generalPractitioner contains expected values","message":"expected undefined to be an array","stack":"AssertionError: expected undefined to be an array\n   at Object.eval sandbox-script.js:5:16)","checksum":"211f38311604f54dcafcb87c63affab8","id":"a4cd1362-37c4-435f-9628-b89444656d36","timestamp":1691995619724,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":5,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":16,"native":false}]},"at":"assertion:4 in test-script","source":{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"212738d1-b0fe-472e-acb6-8754d53050ae","length":26,"cycles":1,"position":15,"iteration":0,"httpRequestId":"4b76070f-3540-4368-9075-5fabd5a706f5","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}},{"error":{"name":"TypeError","index":5,"test":"summaryDetails contains the right profile","message":"Cannot read property 'profile' of undefined","stack":"TypeError: Cannot read property 'profile' of undefined\n   at Object.eval sandbox-script.js:6:16)","checksum":"e9ba638816d28acf1941c3bb60dc9d9c","id":"6e87ca97-76d3-4f5f-a791-4e75d174d738","timestamp":1691995619725,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":6,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":16,"native":false}]},"at":"assertion:5 in test-script","source":{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"212738d1-b0fe-472e-acb6-8754d53050ae","length":26,"cycles":1,"position":15,"iteration":0,"httpRequestId":"4b76070f-3540-4368-9075-5fabd5a706f5","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}},{"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 201 but got 400","stack":"AssertionError: expected response to have status code 201 but got 400\n   at Object.eval sandbox-script.js:1:17)","checksum":"ad0a6a75004181f4ab62831ad0246ec4","id":"329b2f30-89d5-4d91-87f6-6ef635baeb07","timestamp":1691995620120,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":17,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"732735d8-d690-4702-8c59-b748b165d898"}},{"error":{"name":"AssertionError","index":1,"test":"response body is accepted","message":"expected response code to be 2XX but found 400","stack":"AssertionError: expected response code to be 2XX but found 400\n   at Object.eval sandbox-script.js:2:17)","checksum":"17c906fd531d22502b3e960ff23aa20b","id":"849009b0-9f65-477a-b27a-60f041766da1","timestamp":1691995620121,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":17,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"732735d8-d690-4702-8c59-b748b165d898"}},{"error":{"name":"AssertionError","index":2,"test":"response body contains META.PROFILE","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:3:17)","checksum":"593219fe0082dba5948513a195ba8e88","id":"c9b07696-b3db-46cc-910a-32d86df6a0a0","timestamp":1691995620122,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":3,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":17,"native":false}]},"at":"assertion:2 in test-script","source":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"732735d8-d690-4702-8c59-b748b165d898"}},{"error":{"name":"AssertionError","index":3,"test":"response body contains expected properties","message":"expected { Object (resourceType, text, ...) } to have property 'meta'","stack":"AssertionError: expected { Object (resourceType, text, ...) } to have property 'meta'\n   at Object.eval sandbox-script.js:4:17)","checksum":"15f750215be88e2b60fb9fa93fd926e0","id":"0fd0fd38-3e32-490b-b212-4f23da540734","timestamp":1691995620123,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":4,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":17,"native":false}]},"at":"assertion:3 in test-script","source":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"732735d8-d690-4702-8c59-b748b165d898"}},{"error":{"name":"AssertionError","index":4,"test":"response body - extension contains expected values","message":"expected undefined to be an array","stack":"AssertionError: expected undefined to be an array\n   at Object.eval sandbox-script.js:5:17)","checksum":"66ed46483db677c55f19660e3a059de6","id":"9a4f9c6a-a24f-4b3d-a1dc-41bc28239ae5","timestamp":1691995620123,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":5,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":17,"native":false}]},"at":"assertion:4 in test-script","source":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"732735d8-d690-4702-8c59-b748b165d898"}},{"error":{"name":"AssertionError","index":5,"test":"response body - item contains expected values","message":"expected undefined to be an array","stack":"AssertionError: expected undefined to be an array\n   at Object.eval sandbox-script.js:6:17)","checksum":"46ab4f4002f8a41e2a4fb1e6e707ccf5","id":"e6d8957f-ba17-4a9f-9dee-5d4cba8b022d","timestamp":1691995620124,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":6,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":17,"native":false}]},"at":"assertion:5 in test-script","source":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"732735d8-d690-4702-8c59-b748b165d898"}},{"error":{"name":"TypeError","index":6,"test":"summaryDetails contains the right profile","message":"Cannot read property 'profile' of undefined","stack":"TypeError: Cannot read property 'profile' of undefined\n   at Object.eval sandbox-script.js:7:17)","checksum":"70b94f3f546e0630cf5eaba09994198d","id":"1a3ac952-c21b-4ddc-a0db-927a9f42c0f1","timestamp":1691995620125,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":7,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":17,"native":false}]},"at":"assertion:6 in test-script","source":{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"f352a580-3c57-4835-b87b-d4615d52b271","length":26,"cycles":1,"position":16,"iteration":0,"httpRequestId":"170868f6-fd7f-4ab3-8c44-b1387209ab61","scriptId":"d1206360-3b23-4596-ae34-93cc4626c171","execution":"732735d8-d690-4702-8c59-b748b165d898"}},{"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:20)","checksum":"91dd781f7b0ce5125d61cf3c1683e4d6","id":"1b42bfa6-35f6-4124-ac68-5fac8d1eb8d6","timestamp":1691995621182,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":20,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"e09b5d8f-1cde-4671-aa09-38d816c1bd7d","length":26,"cycles":1,"position":19,"iteration":0,"httpRequestId":"2adf663a-0dd7-4f2b-8a2a-2dd7c1cdfb3e","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"d5be0356-78bb-4d92-b94d-c7763e216772"}},{"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:20)","checksum":"05802340783ba7e4126781503432fd97","id":"f668bd7f-1a7e-4cdd-aeae-038e3a47f24e","timestamp":1691995621183,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":20,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"e09b5d8f-1cde-4671-aa09-38d816c1bd7d","length":26,"cycles":1,"position":19,"iteration":0,"httpRequestId":"2adf663a-0dd7-4f2b-8a2a-2dd7c1cdfb3e","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"d5be0356-78bb-4d92-b94d-c7763e216772"}},{"error":{"name":"AssertionError","index":0,"test":"response is ok","message":"expected response to have status code 200 but got 405","stack":"AssertionError: expected response to have status code 200 but got 405\n   at Object.eval sandbox-script.js:1:21)","checksum":"4a0ad57d9b46836fc9db1e687bb239b0","id":"a59fbc5e-ab88-4f29-9ee2-586aafcda452","timestamp":1691995621549,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":21,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"cc3c542d-d7e5-4d77-b3db-9c2594c03bc7","length":26,"cycles":1,"position":20,"iteration":0,"httpRequestId":"f534262d-3068-4df4-a426-97ab10eeeac5","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}},{"error":{"name":"AssertionError","index":1,"test":"deleted is accepted","message":"expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'","stack":"AssertionError: expected response to have status reason 'OK' but got 'METHOD NOT ALLOWED'\n   at Object.eval sandbox-script.js:2:21)","checksum":"a4bb6318e6a92c14471c91852cc25ddd","id":"2d3b3490-7464-4036-96bd-66800f38bbb0","timestamp":1691995621551,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":21,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"129f6c90-9610-4111-95e0-6684263d5df2","name":"Eswatini","item":[{"id":"b13d804b-bea5-4d03-87da-34fb7bd32eac","name":"Create Practitioner IPC","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_IPC2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_IPC2\",\n                \"given\": [\n                    \"IPC User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerIpcId', fhirResult.id);","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_IPC2',","        'given': [","            'IPC User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"356dfe65-63f4-4ba8-9fb4-b44feca3c588"}},{"listen":"prerequest","script":{"id":"e8e8f4bf-9f85-4d63-9c62-e67da13c2050","type":"text/javascript","exec":["pm.collectionVariables.set('projectSWZ', 'SWZ-KOR')"],"_lastExecutionId":"1b7ce6fe-3b33-405d-9aec-199923401290"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"e0b71856-3463-4f79-ad8c-74ea951013b0","name":"Create Practitioner Provider","request":{"url":{"path":["fhir","Practitioner"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Practitioner\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/practitioner\",\n                \"value\": \"LA_TEST_PROV2\"\n            }\n        ],\n        \"active\": true,\n        \"name\": [\n            {\n                \"family\": \"LA_TEST_PROV2\",\n                \"given\": [\n                    \"PROV User\"\n                ]\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"3b4a7460-12e1-48b8-a24c-a01b4c2ba1b7","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'active');","","    pm.collectionVariables.set('practitionerProvId', fhirResult.id) // TEST-KEN","});","","pm.test('response body contains expected values', function () {","    const { name } = pm.response.json().fhirResult;","    const name0 = {","        'family': 'LA_TEST_PROV2',","        'given': [","            'PROV User'","        ]","    };","    pm.expect(name).to.be.an('array');","    pm.expect(name).to.deep.include(name0);","});","","pm.test('summaryDetails contains the right profile', function () {","    const project = pm.collectionVariables.get('projectSWZ') // SWZ-KOR","    var meta = pm.response.json().fhirResult.meta.profile;","    pm.expect(meta).to.include(project);","});","","",""],"_lastExecutionId":"bc8dcc79-c12f-4c89-b619-5cb12f11c3c2"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a0f794f-888b-4419-8f28-1b54aefc3174","name":"Create Patient","request":{"url":{"path":["fhir","Patient"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"Patient\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/patient\",\n                \"value\": \"LA_TEST_IPC2-Patient-20230313_010101321\"\n            }\n        ],\n        \"name\": [\n            {\n                \"use\": \"official\",\n                \"given\": [\n                    \"Mark\"\n                ],\n                \"family\": \"Tester\"\n            }\n        ],\n        \"active\": true,\n        \"gender\": \"male\",\n        \"birthDate\": \"1997-09-08\",\n        \"telecom\": [\n            {\n                \"value\": \"+821011112222\",\n                \"use\": \"mobile\",\n                \"system\": \"phone\"\n            }\n        ],\n        \"address\": [\n            {\n                \"line\": [\n                    \"214, Diamond Street\"\n                ],\n                \"city\": \"Busan\",\n                \"state\": \"South Korea\",\n                \"postalCode\": \"56883\"\n            }\n        ],\n        \"generalPractitioner\": [\n            {\n                \"reference\": \"Practitioner/{{practicionerIpcId}}\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'name', 'telecom', 'active', 'gender', 'birthDate', 'address', 'generalPractitioner');","","    pm.collectionVariables.set('patientSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('response body generalPractitioner contains expected values', function () {","    const {generalPractitioner} = pm.response.json().fhirResult;","    const generalPractitioner0 = {","        \"reference\": `Practitioner/${pm.collectionVariables.get('practicionerIpcId')}`","    };","    pm.expect(generalPractitioner).to.be.an('array');","    pm.expect(generalPractitioner).to.deep.include(generalPractitioner0);","    ","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"060f66b3-1d9f-4ac7-96d7-02b5d6341ca1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"9a82d60a-8774-4438-8d8b-ec470d76db6a","name":"Create QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"QuestionnaireResponse\",\n        \"status\": \"completed\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },\n        \"subject\": {\n            \"reference\": \"Patient/{{patientSwzId}}\",\n            \"display\": \"Mark Tester\"\n        },\n        \"authored\": \"2023-02-19T14:15:00-05:00\",\n        \"author\": {\n            \"reference\": \"Practitioner/{{practicionerProvId}}\"\n        },\n        \"item\": [\n            {\n                \"linkId\": \"firstName\",\n                \"text\": \"firstName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Mark\"\n                    }\n                ]\n            },\n            {\n                \"linkId\": \"lastName\",\n                \"text\": \"lastName\",\n                \"answer\": [\n                    {\n                        \"valueString\": \"Tester\"\n                    }\n                ]\n            }\n        ],\n        \"extension\": [\n            {\n                \"url\": \"http://sample.info/formData'\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activityId\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/activeUser\",\n                \"valueString\": \"----\"\n            },\n            {\n                \"url\": \"http://sample.info/transType\",\n                \"valueString\": \"c_reg\"\n            }\n        ]\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'subject', 'authored', 'author', 'item', 'extension');","","    pm.collectionVariables.set('questionnaireResponseSwzId', fhirResult.id)","});","","pm.test('response body - extension contains expected values', function () {","    const { extension } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"url\": \"http://sample.info/formData'\",","        \"valueString\": \"----\"","    };","    const expectedTel1 = {","        \"url\": \"http://sample.info/activityId\",","        \"valueString\": \"----\"","    };","    const expectedTel2 = {","        \"url\": \"http://sample.info/activeUser\",","        \"valueString\": \"----\"","    }","    const expectedTel3 = {","        \"url\": \"http://sample.info/transType\",","        \"valueString\": \"c_reg\"","    }","    pm.expect(extension).to.be.an('array');","    pm.expect(extension).to.deep.include(expectedTel0);","    pm.expect(extension).to.deep.include(expectedTel1);","    pm.expect(extension).to.deep.include(expectedTel2);","    pm.expect(extension).to.deep.include(expectedTel3);","});","","","pm.test('response body - item contains expected values', function () {","    const { item } = pm.response.json().fhirResult;","    const expectedTel0 = {","        \"linkId\": \"firstName\",","        \"text\": \"firstName\",","        \"answer\": [","            {","                \"valueString\": \"Mark\"","            }","        ]","    };","    const expectedTel1 = {","        \"linkId\": \"lastName\",","        \"text\": \"lastName\",","        \"answer\": [","            {","                \"valueString\": \"Tester\"","            }","        ]","    };","","    pm.expect(item).to.be.an('array');","    pm.expect(item).to.deep.include(expectedTel0);","    pm.expect(item).to.deep.include(expectedTel1);","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});",""],"_lastExecutionId":"732735d8-d690-4702-8c59-b748b165d898"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"fe2ef772-d6fd-4fb7-beda-8fccd2c9455a","name":"Create ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest"],"host":["{{server}}"],"query":[],"variable":[]},"header":[{"key":"project","value":"a360-KEN"}],"method":"POST","body":{"mode":"raw","raw":"{\n    \"fhir\": {\n        \"resourceType\": \"ServiceRequest\",\n        \"meta\": {\n            \"profile\": [\n                \"SWZ-KOR\"\n            ]\n        },        \n        \"identifier\": [\n            {\n                \"system\": \"http://sample.info/voucher-seq-no\",\n                \"value\": \"10002\"\n            }\n        ],\n        \"code\": {\n            \"coding\": [\n                {\n                    \"system\": \"http://sample.info/voucher-code\",\n                    \"code\": \"008M62\"\n                }\n            ]\n        },\n        \"status\": \"draft\",\n        \"intent\": \"proposal\"\n    }\n}","options":{"raw":{"language":"json"}}},"auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"d1206360-3b23-4596-ae34-93cc4626c171","type":"text/javascript","exec":["","pm.test('response is ok', function () {","    pm.response.to.have.status(201);","});","","pm.test('response body is accepted', function () {","    pm.response.to.be.withBody;","    pm.response.to.be.success;","    pm.expect(pm.response.to.have.jsonBody('fhirResult'));","});","","pm.test('response body contains META.PROFILE', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult.meta).to.have.property('profile');","});","","pm.test('response body contains expected properties', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('meta');","    pm.expect(fhirResult).to.include.keys('id', 'identifier', 'code', 'status', 'intent');","","    pm.collectionVariables.set('serviceRequestSwzId', fhirResult.id) // TEST-KEN","});","","pm.test('summaryDetails contains the right profile', function () {","    var meta = pm.response.json().fhirResult.meta.profile;","    const project = pm.collectionVariables.get('projectSWZ');","    pm.expect(meta).to.include(project);","});","","pm.test('summaryDetails contains activityRecordsList', function () {","    var fhirResult = pm.response.json().fhirResult;","    pm.expect(fhirResult).to.have.property('id');","});","",""],"_lastExecutionId":"aaed0ef3-aabc-4dd6-93b9-311bf55149ce"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"395f10f1-69e8-41d5-9120-d0ade99352e3","name":"delete ServiceRequest","request":{"url":{"path":["fhir","ServiceRequest","{{serviceRequestSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"6a34a3ee-8b54-4fe9-975f-9b921c528a61"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"68a4f4cd-edc7-4973-9427-8ba91f4f679a","name":"delete QuestionnaireResponse","request":{"url":{"path":["fhir","QuestionnaireResponse","{{questionnaireResponseSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"d5be0356-78bb-4d92-b94d-c7763e216772"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"477ef177-6cde-45fe-ba84-ba6d08bb7dcb","name":"delete Patient","request":{"url":{"path":["fhir","Patient","{{patientSwzId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"a33d9ec8-da7e-4348-92f4-93b9e4f24ef3","name":"delete Practitioner Provider","request":{"url":{"path":["fhir","Practitioner","{{practitionerProvId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"7ed1d8b7-8095-4127-ba29-0860a1bbe4c1"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"917397d0-f07b-418f-9848-7263eb8cd585","name":"delete Practitioner IPC","request":{"url":{"path":["fhir","Practitioner","{{practitionerIpcId}}"],"host":["{{server}}"],"query":[{"key":"_expunge","value":"true"}],"variable":[]},"header":[{"key":"project","value":"TEST-KEN"},{"key":"Cache-Control","value":"no cache"}],"method":"DELETE","auth":{"type":"basic","basic":[{"type":"string","value":"{{pass}}","key":"password"},{"type":"string","value":"{{user}}","key":"username"}]}},"response":[],"event":[{"listen":"test","script":{"id":"4917ad99-8fc3-4d80-a5ca-78272092b369","type":"text/javascript","exec":["","pm.test(\"response is ok\", function () {","  pm.response.to.have.status(200);","});","","pm.test(\"deleted is accepted\", function () {","  pm.response.to.be.withBody;","  pm.response.to.be.ok;","  var fhirResult = pm.response.json().fhirResult;","  pm.expect(pm.response.to.have.jsonBody(\"fhirResult\"));","  pm.expect(fhirResult).to.have.property('issue');","  ","});"],"_lastExecutionId":"4a6d1ebd-ca2d-4509-aa74-4b837ce1bbff"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"cc3c542d-d7e5-4d77-b3db-9c2594c03bc7","length":26,"cycles":1,"position":20,"iteration":0,"httpRequestId":"f534262d-3068-4df4-a426-97ab10eeeac5","scriptId":"4917ad99-8fc3-4d80-a5ca-78272092b369","execution":"928fe058-ea3a-4c7b-a04f-ead8d3ff531f"}},{"error":{"name":"AssertionError","index":0,"test":"Status code is 200","message":"expected response to have status code 200 but got 500","stack":"AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:24)","checksum":"6a88009329a144762cd8ec718d47f550","id":"bc75391e-456e-43ef-bbe6-222c4ab67a21","timestamp":1691995622575,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":24,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"4a93fe96-fece-4336-82c1-edddc031c8bb","length":26,"cycles":1,"position":23,"iteration":0,"httpRequestId":"c0886da5-c17f-40f3-a6a0-85333dc65031","scriptId":"336832d9-1752-46fd-b4f9-b2b4d3271384","execution":"f7e6eb45-8a19-4a78-a583-5da350af2928"}},{"error":{"name":"AssertionError","index":1,"test":"Body-Register client in rocket chat response is correct","message":"expected response body json to equal { Object (status_code, status, ...) } but got { Object (status_code, status, ...) }","stack":"AssertionError: expected response body json to equal { Object (status_code, status, ...) } but got { Object (status_code, status, ...) }\n   at Object.eval sandbox-script.js:2:24)","checksum":"83f5acb793b34b607b80d4c956af44f2","id":"72507acc-7b4a-4788-b769-60b36d4eb2fd","timestamp":1691995622576,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":24,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"4a93fe96-fece-4336-82c1-edddc031c8bb","length":26,"cycles":1,"position":23,"iteration":0,"httpRequestId":"c0886da5-c17f-40f3-a6a0-85333dc65031","scriptId":"336832d9-1752-46fd-b4f9-b2b4d3271384","execution":"f7e6eb45-8a19-4a78-a583-5da350af2928"}},{"error":{"errno":-61,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":3008,"name":"Error","message":"connect ECONNREFUSED 127.0.0.1:3008","stack":"Error: connect ECONNREFUSED 127.0.0.1:3008\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1146:16)","checksum":"7acebd738c7177785f6a5bab5c6d6d15","id":"4e8acc44-0970-4f79-92f3-71d54c669f5f","timestamp":1691995622593,"stacktrace":[{"fileName":"net.js","lineNumber":1146,"functionName":"TCPConnectWrap.afterConnect [as oncomplete]","typeName":"TCPConnectWrap","methodName":"afterConnect [as oncomplete]","columnNumber":16,"native":false}]},"at":"request","source":{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"992d644c-678d-4713-bd8e-229fd32fc175","length":26,"cycles":1,"position":24,"iteration":0,"httpRequestId":"20d7f084-2c41-4d4d-9162-da799595b501"}},{"error":{"name":"AssertionError","index":0,"test":"Status code is 200","message":"expected { Object (id, _details, ...) } to have property 'code'","stack":"AssertionError: expected { Object (id, _details, ...) } to have property 'code'\n   at Object.eval sandbox-script.js:1:25)","checksum":"179c7a5ce825ee1e922a626291efc7f3","id":"2596ee9e-40a9-4465-a707-13721f065acf","timestamp":1691995622601,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":25,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"992d644c-678d-4713-bd8e-229fd32fc175","length":26,"cycles":1,"position":24,"iteration":0,"httpRequestId":"20d7f084-2c41-4d4d-9162-da799595b501","scriptId":"dcfda909-4ed4-4985-9d2f-3ce049256fda","execution":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}},{"error":{"name":"AssertionError","index":1,"test":"Body- sendmessage client to agent response is correct","message":"expected response body json to equal { Object (status_code, status, ...) } but got undefined","stack":"AssertionError: expected response body json to equal { Object (status_code, status, ...) } but got undefined\n   at Object.eval sandbox-script.js:2:25)","checksum":"a154b6b79bf2786d5c79fa7d3c0d5729","id":"4e85f113-8bcf-4d52-adad-b7b4c7f9d880","timestamp":1691995622602,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":25,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"992d644c-678d-4713-bd8e-229fd32fc175","length":26,"cycles":1,"position":24,"iteration":0,"httpRequestId":"20d7f084-2c41-4d4d-9162-da799595b501","scriptId":"dcfda909-4ed4-4985-9d2f-3ce049256fda","execution":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}},{"error":{"errno":-61,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":3008,"name":"Error","message":"connect ECONNREFUSED 127.0.0.1:3008","stack":"Error: connect ECONNREFUSED 127.0.0.1:3008\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1146:16)","checksum":"7acebd738c7177785f6a5bab5c6d6d15","id":"a8f45b25-8449-47f4-8eb8-2380e8aa1a99","timestamp":1691995622617,"stacktrace":[{"fileName":"net.js","lineNumber":1146,"functionName":"TCPConnectWrap.afterConnect [as oncomplete]","typeName":"TCPConnectWrap","methodName":"afterConnect [as oncomplete]","columnNumber":16,"native":false}]},"at":"request","source":{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"1d74181b-14d7-4853-90d5-a64f207d9573","length":26,"cycles":1,"position":25,"iteration":0,"httpRequestId":"fcb997f7-58d1-49fb-932e-de8247665c1d"}},{"error":{"name":"AssertionError","index":0,"test":"Status code is 200","message":"expected { Object (id, _details, ...) } to have property 'code'","stack":"AssertionError: expected { Object (id, _details, ...) } to have property 'code'\n   at Object.eval sandbox-script.js:1:26)","checksum":"06358bf5f9ae20f13d35d3e0b5288c61","id":"60b8d449-2a70-476d-9a7f-37fa293fc31c","timestamp":1691995622626,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":1,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":26,"native":false}]},"at":"assertion:0 in test-script","source":{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"1d74181b-14d7-4853-90d5-a64f207d9573","length":26,"cycles":1,"position":25,"iteration":0,"httpRequestId":"fcb997f7-58d1-49fb-932e-de8247665c1d","scriptId":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","execution":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}},{"error":{"name":"AssertionError","index":1,"test":"Body- send message agent to client response is correct","message":"expected response body json to equal { Object (status_code, status, ...) } but got undefined","stack":"AssertionError: expected response body json to equal { Object (status_code, status, ...) } but got undefined\n   at Object.eval sandbox-script.js:2:26)","checksum":"2ec79a8db4669b1d80b277feee08e486","id":"78f607a1-87a1-4329-9616-ab73096ea6de","timestamp":1691995622627,"stacktrace":[{"fileName":"sandbox-script.js","lineNumber":2,"functionName":"Object.eval","typeName":"Object","methodName":"eval","columnNumber":26,"native":false}]},"at":"assertion:1 in test-script","source":{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},"parent":{"id":"9ab70359-d4fc-4086-aeb0-139ca111e49d","name":"Live Agents","item":[{"id":"fe26ca22-2426-467c-b629-d21ac0f354a2","name":"Register Client In Rocket Chat","request":{"url":{"protocol":"http","port":"5001","path":["live-agents","registerClient"],"host":["openhim-dev","psi-mis","org"],"query":[],"variable":[]},"header":[{"disabled":true,"key":"Authorization","value":"Token a371bc55a553e407a62414d0ace30252f7d684ef"}],"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"gowithagent\": {\r\n            \"category\": \"Y\",\r\n            \"value\": \"Yes\"\r\n        }\r\n    },\r\n    \"type\": \"registration\"\r\n}","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"336832d9-1752-46fd-b4f9-b2b4d3271384","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body-Register client in rocket chat response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"f7e6eb45-8a19-4a78-a583-5da350af2928"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"618ba7bd-274c-4d39-93f2-ce6fb1d66ffc","name":"Send Message Cient To Agent Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToAgent"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n    \"contact\": {\r\n        \"name\": \"\",\r\n        \"urn\": \"whatsapp:50371601736\",\r\n        \"uuid\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\"\r\n    },\r\n    \"department\": \"PSI_TestDepartment\",\r\n    \"results\": {\r\n        \"clientmessage\": {\r\n            \"value\": \"Hello\"\r\n        }\r\n    },\r\n    \"type\": \"message\"\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"dcfda909-4ed4-4985-9d2f-3ce049256fda","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- sendmessage client to agent response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});\r",""],"_lastExecutionId":"6ed79954-6da3-48ae-b54b-08c47f4d0365"}}],"protocolProfileBehavior":{"disableBodyPruning":true}},{"id":"2d86e5fd-def2-4005-b15d-b69bbeb8adc1","name":"Send Message Agent To Client Copy","request":{"url":{"port":"3008","path":["live-agents","sendMessageToClient"],"host":["localhost"],"query":[],"variable":[]},"method":"POST","body":{"mode":"raw","raw":"{\r\n  \"_id\": \"inuNcr2RhpMgfu5Qv\",\r\n  \"label\": \"whatsapp:50371601736\",\r\n  \"createdAt\": \"2023-03-16T23:52:43.204Z\",\r\n  \"lastMessageAt\": \"2023-03-16T23:52:43.207Z\",\r\n  \"visitor\": {\r\n    \"_id\": \"640a78b0a8c8b0180c903bb2\",\r\n    \"token\": \"e4958768-27fb-4a5b-9e2d-746980b55f0b\",\r\n    \"name\": \"whatsapp:50371601736\",\r\n    \"username\": \"guest-12\",\r\n    \"email\": null,\r\n    \"phone\": null,\r\n    \"department\": \"zoASNJWcNoievE69k\",\r\n    \"customFields\": {}\r\n  },\r\n  \"agent\": {\r\n    \"_id\": \"f74dgFXwQX5MTjKup\",\r\n    \"username\": \"ricardo.gomez\",\r\n    \"name\": \"Ricardo Gómez\",\r\n    \"email\": \"ricardo.gomez@knowtechture.com\"\r\n  },\r\n  \"type\": \"Message\",\r\n  \"messages\": [\r\n    {\r\n      \"u\": {\r\n        \"_id\": \"f74dgFXwQX5MTjKup\",\r\n        \"username\": \"ricardo.gomez\",\r\n        \"name\": \"Ricardo Gómez\"\r\n      },\r\n      \"_id\": \"vTQWP4Z74NiFzSMzf\",\r\n      \"username\": \"ricardo.gomez\",\r\n      \"msg\": \"Hi\",\r\n      \"ts\": \"2023-03-16T23:55:08.427Z\",\r\n      \"agentId\": \"f74dgFXwQX5MTjKup\"\r\n    }\r\n  ]\r\n}\r\n","options":{"raw":{"language":"json"}}}},"response":[],"event":[{"listen":"test","script":{"id":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","type":"text/javascript","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Body- send message agent to client response is correct\", function () {\r","    pm.response.to.have.body({\r","     \r","        \"status_code\": 200,\r","        \"status\": \"success\",\r","        \"msg\": \"success\", \r","});\r","});"],"_lastExecutionId":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"protocolProfileBehavior":{"disableBodyPruning":true}}],"event":[]},"cursor":{"ref":"1d74181b-14d7-4853-90d5-a64f207d9573","length":26,"cycles":1,"position":25,"iteration":0,"httpRequestId":"fcb997f7-58d1-49fb-932e-de8247665c1d","scriptId":"fbd3888d-7d53-4478-b41b-a8ddf20ed559","execution":"42edb06f-1795-4792-bdd4-fa88b0aefd93"}}],"error":null}}
